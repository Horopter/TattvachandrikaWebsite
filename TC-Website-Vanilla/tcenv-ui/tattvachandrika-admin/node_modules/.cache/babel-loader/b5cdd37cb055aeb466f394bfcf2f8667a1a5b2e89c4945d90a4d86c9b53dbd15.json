{"ast":null,"code":"import magazineSubscriberService from '@/services/magazineSubscriberService';\nexport default {\n  props: {\n    isEdit: {\n      type: Boolean,\n      default: false\n    },\n    subscriber: {\n      type: Object,\n      default: () => ({})\n    }\n  },\n  data() {\n    return {\n      localSubscriber: {\n        ...this.subscriber\n      },\n      categories: [],\n      types: []\n    };\n  },\n  watch: {\n    subscriber: {\n      immediate: true,\n      handler(newSubscriber) {\n        this.localSubscriber = {\n          ...newSubscriber\n        };\n      }\n    }\n  },\n  methods: {\n    fetchCategories() {\n      magazineSubscriberService.getCategories().then(response => {\n        this.categories = response.data;\n      });\n    },\n    fetchTypes() {\n      magazineSubscriberService.getTypes().then(response => {\n        this.types = response.data;\n      });\n    },\n    saveSubscriber() {\n      const action = this.isEdit ? magazineSubscriberService.updateMagazineSubscriber(this.localSubscriber._id, this.localSubscriber) : magazineSubscriberService.createMagazineSubscriber(this.localSubscriber);\n      action.then(() => {\n        this.$emit('save');\n        this.hideModal();\n      });\n    },\n    showModal() {\n      this.$refs.addEditSubscriberModal.show();\n    },\n    hideModal() {\n      this.$refs.addEditSubscriberModal.hide();\n    }\n  },\n  mounted() {\n    this.fetchCategories();\n    this.fetchTypes();\n  }\n};","map":{"version":3,"names":["magazineSubscriberService","props","isEdit","type","Boolean","default","subscriber","Object","data","localSubscriber","categories","types","watch","immediate","handler","newSubscriber","methods","fetchCategories","getCategories","then","response","fetchTypes","getTypes","saveSubscriber","action","updateMagazineSubscriber","_id","createMagazineSubscriber","$emit","hideModal","showModal","$refs","addEditSubscriberModal","show","hide","mounted"],"sources":["C:\\Users\\santoshdesai\\Tattvachandrika\\tcenv-ui\\tattvachandrika-admin\\src\\components\\AddEditSubscriberModal.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <!-- Modal -->\r\n    <div class=\"modal fade\" id=\"addEditSubscriberModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"modalLabel\" aria-hidden=\"true\">\r\n      <div class=\"modal-dialog\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" id=\"modalLabel\">{{ isEdit ? 'Edit Subscriber' : 'Add Subscriber' }}</h5>\r\n            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n              <span aria-hidden=\"true\">&times;</span>\r\n            </button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <form @submit.prevent=\"saveSubscriber\">\r\n              <div class=\"form-group\">\r\n                <label for=\"name\">Name</label>\r\n                <input type=\"text\" class=\"form-control\" id=\"name\" v-model=\"localSubscriber.name\" required>\r\n              </div>\r\n              <div class=\"form-group\">\r\n                <label for=\"registration_number\">Registration Number</label>\r\n                <input type=\"text\" class=\"form-control\" id=\"registration_number\" v-model=\"localSubscriber.registration_number\" required>\r\n              </div>\r\n              <div class=\"form-group\">\r\n                <label for=\"address\">Address</label>\r\n                <input type=\"text\" class=\"form-control\" id=\"address\" v-model=\"localSubscriber.address\">\r\n              </div>\r\n              <div class=\"form-group\">\r\n                <label for=\"city_town\">City/Town</label>\r\n                <input type=\"text\" class=\"form-control\" id=\"city_town\" v-model=\"localSubscriber.city_town\">\r\n              </div>\r\n              <div class=\"form-group\">\r\n                <label for=\"state\">State</label>\r\n                <input type=\"text\" class=\"form-control\" id=\"state\" v-model=\"localSubscriber.state\">\r\n              </div>\r\n              <div class=\"form-group\">\r\n                <label for=\"pincode\">Pincode</label>\r\n                <input type=\"text\" class=\"form-control\" id=\"pincode\" v-model=\"localSubscriber.pincode\">\r\n              </div>\r\n              <div class=\"form-group\">\r\n                <label for=\"phone\">Phone</label>\r\n                <input type=\"text\" class=\"form-control\" id=\"phone\" v-model=\"localSubscriber.phone\">\r\n              </div>\r\n              <div class=\"form-group\">\r\n                <label for=\"email\">Email</label>\r\n                <input type=\"email\" class=\"form-control\" id=\"email\" v-model=\"localSubscriber.email\" required>\r\n              </div>\r\n              <div class=\"form-group\">\r\n                <label for=\"category\">Category</label>\r\n                <select class=\"form-control\" id=\"category\" v-model=\"localSubscriber.category\" required>\r\n                  <option v-for=\"category in categories\" :key=\"category._id\" :value=\"category._id\">{{ category.name }}</option>\r\n                </select>\r\n              </div>\r\n              <div class=\"form-group\">\r\n                <label for=\"stype\">Type</label>\r\n                <select class=\"form-control\" id=\"stype\" v-model=\"localSubscriber.stype\" required>\r\n                  <option v-for=\"type in types\" :key=\"type._id\" :value=\"type._id\">{{ type.name }}</option>\r\n                </select>\r\n              </div>\r\n              <div class=\"form-group\">\r\n                <label for=\"notes\">Notes</label>\r\n                <textarea class=\"form-control\" id=\"notes\" v-model=\"localSubscriber.notes\"></textarea>\r\n              </div>\r\n              <button type=\"submit\" class=\"btn btn-primary\">{{ isEdit ? 'Update' : 'Add' }}</button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport magazineSubscriberService from '@/services/magazineSubscriberService';\r\n\r\nexport default {\r\n  props: {\r\n    isEdit: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    subscriber: {\r\n      type: Object,\r\n      default: () => ({}),\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      localSubscriber: { ...this.subscriber },\r\n      categories: [],\r\n      types: [],\r\n    };\r\n  },\r\n  watch: {\r\n    subscriber: {\r\n      immediate: true,\r\n      handler(newSubscriber) {\r\n        this.localSubscriber = { ...newSubscriber };\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    fetchCategories() {\r\n      magazineSubscriberService.getCategories().then(response => {\r\n        this.categories = response.data;\r\n      });\r\n    },\r\n    fetchTypes() {\r\n      magazineSubscriberService.getTypes().then(response => {\r\n        this.types = response.data;\r\n      });\r\n    },\r\n    saveSubscriber() {\r\n      const action = this.isEdit ? magazineSubscriberService.updateMagazineSubscriber(this.localSubscriber._id, this.localSubscriber) : magazineSubscriberService.createMagazineSubscriber(this.localSubscriber);\r\n      action.then(() => {\r\n        this.$emit('save');\r\n        this.hideModal();\r\n      });\r\n    },\r\n    showModal() {\r\n      this.$refs.addEditSubscriberModal.show();\r\n    },\r\n    hideModal() {\r\n      this.$refs.addEditSubscriberModal.hide();\r\n    },\r\n  },\r\n  mounted() {\r\n    this.fetchCategories();\r\n    this.fetchTypes();\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n/* Add your styles here */\r\n</style>\r\n"],"mappings":"AAwEA,OAAOA,yBAAwB,MAAO,sCAAsC;AAE5E,eAAe;EACbC,KAAK,EAAE;IACLC,MAAM,EAAE;MACNC,IAAI,EAAEC,OAAO;MACbC,OAAO,EAAE;IACX,CAAC;IACDC,UAAU,EAAE;MACVH,IAAI,EAAEI,MAAM;MACZF,OAAO,EAAEA,CAAA,MAAO,CAAC,CAAC;IACpB;EACF,CAAC;EACDG,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,eAAe,EAAE;QAAE,GAAG,IAAI,CAACH;MAAW,CAAC;MACvCI,UAAU,EAAE,EAAE;MACdC,KAAK,EAAE;IACT,CAAC;EACH,CAAC;EACDC,KAAK,EAAE;IACLN,UAAU,EAAE;MACVO,SAAS,EAAE,IAAI;MACfC,OAAOA,CAACC,aAAa,EAAE;QACrB,IAAI,CAACN,eAAc,GAAI;UAAE,GAAGM;QAAc,CAAC;MAC7C;IACF;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,eAAeA,CAAA,EAAG;MAChBjB,yBAAyB,CAACkB,aAAa,CAAC,CAAC,CAACC,IAAI,CAACC,QAAO,IAAK;QACzD,IAAI,CAACV,UAAS,GAAIU,QAAQ,CAACZ,IAAI;MACjC,CAAC,CAAC;IACJ,CAAC;IACDa,UAAUA,CAAA,EAAG;MACXrB,yBAAyB,CAACsB,QAAQ,CAAC,CAAC,CAACH,IAAI,CAACC,QAAO,IAAK;QACpD,IAAI,CAACT,KAAI,GAAIS,QAAQ,CAACZ,IAAI;MAC5B,CAAC,CAAC;IACJ,CAAC;IACDe,cAAcA,CAAA,EAAG;MACf,MAAMC,MAAK,GAAI,IAAI,CAACtB,MAAK,GAAIF,yBAAyB,CAACyB,wBAAwB,CAAC,IAAI,CAAChB,eAAe,CAACiB,GAAG,EAAE,IAAI,CAACjB,eAAe,IAAIT,yBAAyB,CAAC2B,wBAAwB,CAAC,IAAI,CAAClB,eAAe,CAAC;MAC1Me,MAAM,CAACL,IAAI,CAAC,MAAM;QAChB,IAAI,CAACS,KAAK,CAAC,MAAM,CAAC;QAClB,IAAI,CAACC,SAAS,CAAC,CAAC;MAClB,CAAC,CAAC;IACJ,CAAC;IACDC,SAASA,CAAA,EAAG;MACV,IAAI,CAACC,KAAK,CAACC,sBAAsB,CAACC,IAAI,CAAC,CAAC;IAC1C,CAAC;IACDJ,SAASA,CAAA,EAAG;MACV,IAAI,CAACE,KAAK,CAACC,sBAAsB,CAACE,IAAI,CAAC,CAAC;IAC1C;EACF,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAAClB,eAAe,CAAC,CAAC;IACtB,IAAI,CAACI,UAAU,CAAC,CAAC;EACnB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}