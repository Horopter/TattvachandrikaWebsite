{"ast":null,"code":"import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"h1\", null, \"Magazine Subscribers\", -1 /* HOISTED */);\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_b_breadcrumb_item = _resolveComponent(\"b-breadcrumb-item\");\n  const _component_b_breadcrumb = _resolveComponent(\"b-breadcrumb\");\n  const _component_b_button = _resolveComponent(\"b-button\");\n  const _component_b_table = _resolveComponent(\"b-table\");\n  const _component_add_edit_subscriber_modal = _resolveComponent(\"add-edit-subscriber-modal\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createVNode(_component_b_breadcrumb, null, {\n    default: _withCtx(() => [_createVNode(_component_b_breadcrumb_item, {\n      href: \"/\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(\"Home\")]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_b_breadcrumb_item, {\n      active: \"\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(\"Magazine Subscribers\")]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  }), _hoisted_1, _createVNode(_component_b_button, {\n    onClick: $options.openAddSubscriberModal\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Add Subscriber\")]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_b_table, {\n    items: $data.subscribers,\n    fields: $data.fields\n  }, {\n    \"cell(actions)\": _withCtx(row => [_createVNode(_component_b_button, {\n      onClick: $event => $options.editSubscriber(row.item)\n    }, {\n      default: _withCtx(() => [_createTextVNode(\"Edit\")]),\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"]), _createVNode(_component_b_button, {\n      onClick: $event => $options.deleteSubscriber(row.item._id)\n    }, {\n      default: _withCtx(() => [_createTextVNode(\"Delete\")]),\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"]), _createVNode(_component_b_button, {\n      onClick: $event => $options.viewSubscriber(row.item)\n    }, {\n      default: _withCtx(() => [_createTextVNode(\"View\")]),\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"items\", \"fields\"]), _createVNode(_component_add_edit_subscriber_modal, {\n    ref: \"addEditSubscriberModal\",\n    \"show-modal\": $data.showAddEditModal,\n    subscriber: $data.currentSubscriber,\n    onSave: $options.saveSubscriber,\n    onCancel: $options.cancelEdit\n  }, null, 8 /* PROPS */, [\"show-modal\", \"subscriber\", \"onSave\", \"onCancel\"])]);\n}","map":{"version":3,"names":["_createElementVNode","_createElementBlock","_createVNode","_component_b_breadcrumb","default","_withCtx","_component_b_breadcrumb_item","href","_createTextVNode","_","active","_hoisted_1","_component_b_button","onClick","$options","openAddSubscriberModal","_component_b_table","items","$data","subscribers","fields","row","$event","editSubscriber","item","deleteSubscriber","_id","viewSubscriber","_component_add_edit_subscriber_modal","ref","showAddEditModal","subscriber","currentSubscriber","onSave","saveSubscriber","onCancel","cancelEdit"],"sources":["C:\\Users\\santoshdesai\\Tattvachandrika\\tcenv-ui\\tattvachandrika-admin\\src\\components\\MagazineSubscribers.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <b-breadcrumb>\r\n      <b-breadcrumb-item href=\"/\">Home</b-breadcrumb-item>\r\n      <b-breadcrumb-item active>Magazine Subscribers</b-breadcrumb-item>\r\n    </b-breadcrumb>\r\n    <h1>Magazine Subscribers</h1>\r\n    <b-button @click=\"openAddSubscriberModal\">Add Subscriber</b-button>\r\n    <b-table :items=\"subscribers\" :fields=\"fields\">\r\n      <template #cell(actions)=\"row\">\r\n        <b-button @click=\"editSubscriber(row.item)\">Edit</b-button>\r\n        <b-button @click=\"deleteSubscriber(row.item._id)\">Delete</b-button>\r\n        <b-button @click=\"viewSubscriber(row.item)\">View</b-button>\r\n      </template>\r\n    </b-table>\r\n    <add-edit-subscriber-modal\r\n      ref=\"addEditSubscriberModal\"\r\n      :show-modal=\"showAddEditModal\"\r\n      :subscriber=\"currentSubscriber\"\r\n      @save=\"saveSubscriber\"\r\n      @cancel=\"cancelEdit\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport AddEditSubscriberModal from './AddEditSubscriberModal.vue';\r\nimport magazineSubscriberService from '@/services/magazineSubscriberService';\r\n\r\nexport default {\r\n  components: {\r\n    AddEditSubscriberModal,\r\n  },\r\n  data() {\r\n    return {\r\n      subscribers: [],\r\n      fields: ['name', 'registration_number', 'actions'],\r\n      showAddEditModal: false,\r\n      currentSubscriber: null,\r\n    };\r\n  },\r\n  methods: {\r\n    fetchSubscribers() {\r\n      magazineSubscriberService.getMagazineSubscribers()\r\n        .then(response => {\r\n          this.subscribers = response.data;\r\n        })\r\n        .catch(error => {\r\n          console.error(error);\r\n        });\r\n    },\r\n    openAddSubscriberModal() {\r\n      this.currentSubscriber = {};\r\n      this.showAddEditModal = true;\r\n    },\r\n    editSubscriber(subscriber) {\r\n      this.currentSubscriber = { ...subscriber };\r\n      this.showAddEditModal = true;\r\n    },\r\n    saveSubscriber(subscriber) {\r\n      if (subscriber._id) {\r\n        magazineSubscriberService.updateMagazineSubscriber(subscriber._id, subscriber)\r\n          .then(() => {\r\n            this.fetchSubscribers();\r\n            this.showAddEditModal = false;\r\n          })\r\n          .catch(error => {\r\n            console.error(error);\r\n          });\r\n      } else {\r\n        magazineSubscriberService.createMagazineSubscriber(subscriber)\r\n          .then(() => {\r\n            this.fetchSubscribers();\r\n            this.showAddEditModal = false;\r\n          })\r\n          .catch(error => {\r\n            console.error(error);\r\n          });\r\n      }\r\n    },\r\n    cancelEdit() {\r\n      this.showAddEditModal = false;\r\n    },\r\n    deleteSubscriber(id) {\r\n      if (confirm('Are you sure you want to delete this subscriber?')) {\r\n        magazineSubscriberService.deleteMagazineSubscriber(id)\r\n          .then(() => {\r\n            this.fetchSubscribers();\r\n          })\r\n          .catch(error => {\r\n            console.error(error);\r\n          });\r\n      }\r\n    },\r\n    viewSubscriber(subscriber) {\r\n      this.$router.push({ name: 'SubscriberDetails', params: { id: subscriber._id } });\r\n    },\r\n  },\r\n  mounted() {\r\n    this.fetchSubscribers();\r\n  },\r\n};\r\n</script>\r\n"],"mappings":";gCAMIA,mBAAA,CAA6B,YAAzB,sBAAoB;;;;;;;uBAL1BC,mBAAA,CAqBM,cApBJC,YAAA,CAGeC,uBAAA;IALnBC,OAAA,EAAAC,QAAA,CAGM,MAAoD,CAApDH,YAAA,CAAoDI,4BAAA;MAAjCC,IAAI,EAAC;IAAG;MAHjCH,OAAA,EAAAC,QAAA,CAGkC,MAAI,CAHtCG,gBAAA,CAGkC,MAAI,E;MAHtCC,CAAA;QAIMP,YAAA,CAAkEI,4BAAA;MAA/CI,MAAM,EAAN;IAAM;MAJ/BN,OAAA,EAAAC,QAAA,CAIgC,MAAoB,CAJpDG,gBAAA,CAIgC,sBAAoB,E;MAJpDC,CAAA;;IAAAA,CAAA;MAMIE,UAA6B,EAC7BT,YAAA,CAAmEU,mBAAA;IAAxDC,OAAK,EAAEC,QAAA,CAAAC;EAAsB;IAP5CX,OAAA,EAAAC,QAAA,CAO8C,MAAc,CAP5DG,gBAAA,CAO8C,gBAAc,E;IAP5DC,CAAA;kCAQIP,YAAA,CAMUc,kBAAA;IANAC,KAAK,EAAEC,KAAA,CAAAC,WAAW;IAAGC,MAAM,EAAEF,KAAA,CAAAE;;IAC1B,eAAa,EAAAf,QAAA,CACqCgB,GADhC,KAC3BnB,YAAA,CAA2DU,mBAAA;MAAhDC,OAAK,EAAAS,MAAA,IAAER,QAAA,CAAAS,cAAc,CAACF,GAAG,CAACG,IAAI;;MAVjDpB,OAAA,EAAAC,QAAA,CAUoD,MAAI,CAVxDG,gBAAA,CAUoD,MAAI,E;MAVxDC,CAAA;sDAWQP,YAAA,CAAmEU,mBAAA;MAAxDC,OAAK,EAAAS,MAAA,IAAER,QAAA,CAAAW,gBAAgB,CAACJ,GAAG,CAACG,IAAI,CAACE,GAAG;;MAXvDtB,OAAA,EAAAC,QAAA,CAW0D,MAAM,CAXhEG,gBAAA,CAW0D,QAAM,E;MAXhEC,CAAA;sDAYQP,YAAA,CAA2DU,mBAAA;MAAhDC,OAAK,EAAAS,MAAA,IAAER,QAAA,CAAAa,cAAc,CAACN,GAAG,CAACG,IAAI;;MAZjDpB,OAAA,EAAAC,QAAA,CAYoD,MAAI,CAZxDG,gBAAA,CAYoD,MAAI,E;MAZxDC,CAAA;;IAAAA,CAAA;0CAeIP,YAAA,CAME0B,oCAAA;IALAC,GAAG,EAAC,wBAAwB;IAC3B,YAAU,EAAEX,KAAA,CAAAY,gBAAgB;IAC5BC,UAAU,EAAEb,KAAA,CAAAc,iBAAiB;IAC7BC,MAAI,EAAEnB,QAAA,CAAAoB,cAAc;IACpBC,QAAM,EAAErB,QAAA,CAAAsB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}