{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport AddEditSubscriberModal from './AddEditSubscriberModal.vue';\nimport magazineSubscriberService from '@/services/magazineSubscriberService';\nexport default {\n  components: {\n    AddEditSubscriberModal\n  },\n  data() {\n    return {\n      showModal: false,\n      isEdit: false,\n      selectedSubscriber: {},\n      subscribers: [],\n      fields: [{\n        key: 'name',\n        label: 'Name'\n      }, {\n        key: 'registration_number',\n        label: 'Registration Number'\n      }, {\n        key: 'email',\n        label: 'Email'\n      }, {\n        key: 'phone',\n        label: 'Phone'\n      }, {\n        key: 'hasActiveSubscriptions',\n        label: 'Active Subscriptions'\n      }, {\n        key: 'actions',\n        label: 'Actions',\n        class: 'text-center'\n      }]\n    };\n  },\n  methods: {\n    fetchSubscribers() {\n      magazineSubscriberService.getMagazineSubscribers().then(response => {\n        this.subscribers = response.data;\n      });\n    },\n    openAddSubscriberModal() {\n      this.selectedSubscriber = {};\n      this.isEdit = false;\n      this.showModal = true;\n    },\n    closeModal() {\n      this.showModal = false;\n    },\n    openEditSubscriberModal(subscriber) {\n      this.selectedSubscriber = {\n        ...subscriber\n      };\n      this.isEdit = true;\n      this.showModal = true;\n    },\n    deleteSubscriber(id) {\n      if (confirm('Are you sure you want to delete this subscriber?')) {\n        magazineSubscriberService.deleteMagazineSubscriber(id).then(() => {\n          this.fetchSubscribers();\n        });\n      }\n    },\n    viewSubscriber(subscriber) {\n      // Navigate to subscriber detail page\n      this.$router.push({\n        name: 'SubscriberDetail',\n        params: {\n          id: subscriber._id\n        }\n      });\n    }\n  },\n  mounted() {\n    this.fetchSubscribers();\n  }\n};","map":{"version":3,"names":["AddEditSubscriberModal","magazineSubscriberService","components","data","showModal","isEdit","selectedSubscriber","subscribers","fields","key","label","class","methods","fetchSubscribers","getMagazineSubscribers","then","response","openAddSubscriberModal","closeModal","openEditSubscriberModal","subscriber","deleteSubscriber","id","confirm","deleteMagazineSubscriber","viewSubscriber","$router","push","name","params","_id","mounted"],"sources":["C:\\Users\\santoshdesai\\Tattvachandrika\\tcenv-ui\\tattvachandrika-admin\\src\\components\\MagazineSubscribers.vue"],"sourcesContent":["<template>\r\n  <div class=\"container mt-4\">\r\n    <b-breadcrumb>\r\n      <b-breadcrumb-item href=\"#\">Home</b-breadcrumb-item>\r\n      <b-breadcrumb-item active>Subscribers</b-breadcrumb-item>\r\n    </b-breadcrumb>\r\n\r\n    <b-button class=\"mb-3\" variant=\"primary\" @click=\"openAddSubscriberModal\">\r\n      Add Subscriber\r\n    </b-button>\r\n\r\n    <b-table striped hover :items=\"subscribers\" :fields=\"fields\" responsive=\"sm\">\r\n      <template #cell(actions)=\"data\">\r\n        <b-button size=\"sm\" variant=\"info\" @click=\"viewSubscriber(data.item)\">\r\n          View\r\n        </b-button>\r\n        <b-button size=\"sm\" variant=\"warning\" @click=\"openEditSubscriberModal(data.item)\">\r\n          Edit\r\n        </b-button>\r\n        <b-button size=\"sm\" variant=\"danger\" @click=\"deleteSubscriber(data.item._id)\">\r\n          Delete\r\n        </b-button>\r\n      </template>\r\n    </b-table>\r\n\r\n    <AddEditSubscriberModal\r\n      v-if=\"showModal\"\r\n      :isEdit=\"isEdit\"\r\n      :subscriber=\"selectedSubscriber\"\r\n      @save=\"fetchSubscribers\"\r\n      @close=\"closeModal\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport AddEditSubscriberModal from './AddEditSubscriberModal.vue';\r\nimport magazineSubscriberService from '@/services/magazineSubscriberService';\r\n\r\nexport default {\r\n  components: {\r\n    AddEditSubscriberModal,\r\n  },\r\n  data() {\r\n    return {\r\n      showModal: false,\r\n      isEdit: false,\r\n      selectedSubscriber: {},\r\n      subscribers: [],\r\n      fields: [\r\n        { key: 'name', label: 'Name' },\r\n        { key: 'registration_number', label: 'Registration Number' },\r\n        { key: 'email', label: 'Email' },\r\n        { key: 'phone', label: 'Phone' },\r\n        { key: 'hasActiveSubscriptions', label: 'Active Subscriptions' },\r\n        { key: 'actions', label: 'Actions', class: 'text-center' },\r\n      ],\r\n    };\r\n  },\r\n  methods: {\r\n    fetchSubscribers() {\r\n      magazineSubscriberService.getMagazineSubscribers().then((response) => {\r\n        this.subscribers = response.data;\r\n      });\r\n    },\r\n    openAddSubscriberModal() {\r\n      this.selectedSubscriber = {};\r\n      this.isEdit = false;\r\n      this.showModal = true;\r\n    },\r\n    closeModal() {\r\n      this.showModal = false;\r\n    },\r\n    openEditSubscriberModal(subscriber) {\r\n      this.selectedSubscriber = { ...subscriber };\r\n      this.isEdit = true;\r\n      this.showModal = true;\r\n    },\r\n    deleteSubscriber(id) {\r\n      if (confirm('Are you sure you want to delete this subscriber?')) {\r\n        magazineSubscriberService.deleteMagazineSubscriber(id).then(() => {\r\n          this.fetchSubscribers();\r\n        });\r\n      }\r\n    },\r\n    viewSubscriber(subscriber) {\r\n      // Navigate to subscriber detail page\r\n      this.$router.push({ name: 'SubscriberDetail', params: { id: subscriber._id } });\r\n    },\r\n  },\r\n  mounted() {\r\n    this.fetchSubscribers();\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n/* Add your styles here */\r\n</style>\r\n"],"mappings":";AAoCA,OAAOA,sBAAqB,MAAO,8BAA8B;AACjE,OAAOC,yBAAwB,MAAO,sCAAsC;AAE5E,eAAe;EACbC,UAAU,EAAE;IACVF;EACF,CAAC;EACDG,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,SAAS,EAAE,KAAK;MAChBC,MAAM,EAAE,KAAK;MACbC,kBAAkB,EAAE,CAAC,CAAC;MACtBC,WAAW,EAAE,EAAE;MACfC,MAAM,EAAE,CACN;QAAEC,GAAG,EAAE,MAAM;QAAEC,KAAK,EAAE;MAAO,CAAC,EAC9B;QAAED,GAAG,EAAE,qBAAqB;QAAEC,KAAK,EAAE;MAAsB,CAAC,EAC5D;QAAED,GAAG,EAAE,OAAO;QAAEC,KAAK,EAAE;MAAQ,CAAC,EAChC;QAAED,GAAG,EAAE,OAAO;QAAEC,KAAK,EAAE;MAAQ,CAAC,EAChC;QAAED,GAAG,EAAE,wBAAwB;QAAEC,KAAK,EAAE;MAAuB,CAAC,EAChE;QAAED,GAAG,EAAE,SAAS;QAAEC,KAAK,EAAE,SAAS;QAAEC,KAAK,EAAE;MAAc,CAAC;IAE9D,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,gBAAgBA,CAAA,EAAG;MACjBZ,yBAAyB,CAACa,sBAAsB,CAAC,CAAC,CAACC,IAAI,CAAEC,QAAQ,IAAK;QACpE,IAAI,CAACT,WAAU,GAAIS,QAAQ,CAACb,IAAI;MAClC,CAAC,CAAC;IACJ,CAAC;IACDc,sBAAsBA,CAAA,EAAG;MACvB,IAAI,CAACX,kBAAiB,GAAI,CAAC,CAAC;MAC5B,IAAI,CAACD,MAAK,GAAI,KAAK;MACnB,IAAI,CAACD,SAAQ,GAAI,IAAI;IACvB,CAAC;IACDc,UAAUA,CAAA,EAAG;MACX,IAAI,CAACd,SAAQ,GAAI,KAAK;IACxB,CAAC;IACDe,uBAAuBA,CAACC,UAAU,EAAE;MAClC,IAAI,CAACd,kBAAiB,GAAI;QAAE,GAAGc;MAAW,CAAC;MAC3C,IAAI,CAACf,MAAK,GAAI,IAAI;MAClB,IAAI,CAACD,SAAQ,GAAI,IAAI;IACvB,CAAC;IACDiB,gBAAgBA,CAACC,EAAE,EAAE;MACnB,IAAIC,OAAO,CAAC,kDAAkD,CAAC,EAAE;QAC/DtB,yBAAyB,CAACuB,wBAAwB,CAACF,EAAE,CAAC,CAACP,IAAI,CAAC,MAAM;UAChE,IAAI,CAACF,gBAAgB,CAAC,CAAC;QACzB,CAAC,CAAC;MACJ;IACF,CAAC;IACDY,cAAcA,CAACL,UAAU,EAAE;MACzB;MACA,IAAI,CAACM,OAAO,CAACC,IAAI,CAAC;QAAEC,IAAI,EAAE,kBAAkB;QAAEC,MAAM,EAAE;UAAEP,EAAE,EAAEF,UAAU,CAACU;QAAI;MAAE,CAAC,CAAC;IACjF;EACF,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAAClB,gBAAgB,CAAC,CAAC;EACzB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}