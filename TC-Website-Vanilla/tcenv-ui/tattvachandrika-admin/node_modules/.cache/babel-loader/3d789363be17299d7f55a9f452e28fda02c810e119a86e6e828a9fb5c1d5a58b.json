{"ast":null,"code":"import subscriptionPlanService from '../services/subscriptionPlanService';\nimport subscriptionLanguageService from '../services/subscriptionLanguageService';\nimport subscriptionModeService from '../services/subscriptionModeService';\nexport default {\n  data() {\n    return {\n      subscriptionPlans: [],\n      subscriptionLanguages: [],\n      subscriptionModes: [],\n      subscriptionPlanForm: {\n        version: '',\n        name: '',\n        start_date: '',\n        subscription_price: 0,\n        subscription_language: '',\n        subscription_mode: '',\n        duration_in_months: 0\n      },\n      editSubscriptionPlan: null\n    };\n  },\n  created() {\n    this.loadSubscriptionPlans();\n    this.loadSubscriptionLanguages();\n    this.loadSubscriptionModes();\n  },\n  methods: {\n    loadSubscriptionPlans() {\n      subscriptionPlanService.getSubscriptionPlans().then(response => {\n        this.subscriptionPlans = response.data;\n      }).catch(error => {\n        console.error(\"There was an error retrieving the subscription plans!\", error);\n      });\n    },\n    loadSubscriptionLanguages() {\n      subscriptionLanguageService.getSubscriptionLanguages().then(response => {\n        this.subscriptionLanguages = response.data;\n      }).catch(error => {\n        console.error(\"There was an error retrieving the subscription languages!\", error);\n      });\n    },\n    loadSubscriptionModes() {\n      subscriptionModeService.getSubscriptionModes().then(response => {\n        this.subscriptionModes = response.data;\n      }).catch(error => {\n        console.error(\"There was an error retrieving the subscription modes!\", error);\n      });\n    },\n    addSubscriptionPlan() {\n      if (this.subscriptionPlanForm.name.trim()) {\n        subscriptionPlanService.createSubscriptionPlan(this.subscriptionPlanForm).then(() => {\n          this.loadSubscriptionPlans();\n          this.resetForm();\n        }).catch(error => {\n          console.error(\"There was an error adding the subscription plan!\", error);\n        });\n      }\n    },\n    editPlan(subscriptionPlan) {\n      this.editSubscriptionPlan = {\n        ...subscriptionPlan\n      };\n      this.subscriptionPlanForm = {\n        ...subscriptionPlan,\n        subscription_language: subscriptionPlan.subscription_language._id,\n        subscription_mode: subscriptionPlan.subscription_mode._id\n      };\n    },\n    updateSubscriptionPlan() {\n      if (this.subscriptionPlanForm.name.trim()) {\n        subscriptionPlanService.updateSubscriptionPlan(this.editSubscriptionPlan._id, this.subscriptionPlanForm).then(() => {\n          this.loadSubscriptionPlans();\n          this.editSubscriptionPlan = null;\n          this.resetForm();\n        }).catch(error => {\n          console.error(\"There was an error updating the subscription plan!\", error);\n        });\n      }\n    },\n    deleteSubscriptionPlan(id) {\n      subscriptionPlanService.deleteSubscriptionPlan(id).then(() => {\n        this.loadSubscriptionPlans();\n      }).catch(error => {\n        console.error(\"There was an error deleting the subscription plan!\", error);\n      });\n    },\n    cancelEdit() {\n      this.editSubscriptionPlan = null;\n      this.resetForm();\n    },\n    resetForm() {\n      this.subscriptionPlanForm = {\n        version: '',\n        name: '',\n        start_date: '',\n        subscription_price: 0,\n        subscription_language: '',\n        subscription_mode: '',\n        duration_in_months: 0\n      };\n    }\n  }\n};","map":{"version":3,"names":["subscriptionPlanService","subscriptionLanguageService","subscriptionModeService","data","subscriptionPlans","subscriptionLanguages","subscriptionModes","subscriptionPlanForm","version","name","start_date","subscription_price","subscription_language","subscription_mode","duration_in_months","editSubscriptionPlan","created","loadSubscriptionPlans","loadSubscriptionLanguages","loadSubscriptionModes","methods","getSubscriptionPlans","then","response","catch","error","console","getSubscriptionLanguages","getSubscriptionModes","addSubscriptionPlan","trim","createSubscriptionPlan","resetForm","editPlan","subscriptionPlan","_id","updateSubscriptionPlan","deleteSubscriptionPlan","id","cancelEdit"],"sources":["C:\\Users\\santoshdesai\\tcenv-ui\\tattvachandrika-admin\\src\\components\\SubscriptionPlans.vue"],"sourcesContent":["<template>\n  <div class=\"container mt-5\">\n    <h2>Subscription Plans</h2>\n    <nav aria-label=\"breadcrumb\">\n      <ol class=\"breadcrumb\">\n        <li class=\"breadcrumb-item\"><router-link to=\"/\">Home</router-link></li>\n        <li class=\"breadcrumb-item active\" aria-current=\"page\">Subscription Plans</li>\n      </ol>\n    </nav>\n\n    <!-- Add Subscription Plan Form -->\n    <form @submit.prevent=\"addSubscriptionPlan\">\n      <div class=\"mb-3\">\n        <label for=\"version\">Version</label>\n        <input\n          type=\"text\"\n          id=\"version\"\n          v-model=\"subscriptionPlanForm.version\"\n          placeholder=\"Version\"\n          class=\"form-control\"\n        />\n      </div>\n      <div class=\"mb-3\">\n        <label for=\"name\">Name</label>\n        <input\n          type=\"text\"\n          id=\"name\"\n          v-model=\"subscriptionPlanForm.name\"\n          placeholder=\"Name\"\n          class=\"form-control\"\n        />\n      </div>\n      <div class=\"mb-3\">\n        <label for=\"start_date\">Start Date</label>\n        <input\n          type=\"date\"\n          id=\"start_date\"\n          v-model=\"subscriptionPlanForm.start_date\"\n          placeholder=\"Start Date\"\n          class=\"form-control\"\n        />\n      </div>\n      <div class=\"mb-3\">\n        <label for=\"subscription_price\">Subscription Price</label>\n        <input\n          type=\"number\"\n          id=\"subscription_price\"\n          v-model=\"subscriptionPlanForm.subscription_price\"\n          placeholder=\"Subscription Price\"\n          class=\"form-control\"\n        />\n      </div>\n      <div class=\"mb-3\">\n        <label for=\"subscription_language\">Subscription Language</label>\n        <select id=\"subscription_language\" v-model=\"subscriptionPlanForm.subscription_language\" class=\"form-control\">\n          <option v-for=\"language in subscriptionLanguages\" :key=\"language._id\" :value=\"language._id\">{{ language.name }}</option>\n        </select>\n      </div>\n      <div class=\"mb-3\">\n        <label for=\"subscription_mode\">Subscription Mode</label>\n        <select id=\"subscription_mode\" v-model=\"subscriptionPlanForm.subscription_mode\" class=\"form-control\">\n          <option v-for=\"mode in subscriptionModes\" :key=\"mode._id\" :value=\"mode._id\">{{ mode.name }}</option>\n        </select>\n      </div>\n      <div class=\"mb-3\">\n        <label for=\"duration_in_months\">Duration in Months</label>\n        <input\n          type=\"number\"\n          id=\"duration_in_months\"\n          v-model=\"subscriptionPlanForm.duration_in_months\"\n          placeholder=\"Duration in Months\"\n          class=\"form-control\"\n        />\n      </div>\n      <button type=\"submit\" class=\"btn btn-primary mt-2\">Add</button>\n    </form>\n\n    <!-- Edit Subscription Plan Form (conditional) -->\n    <div v-if=\"editSubscriptionPlan\">\n      <h3>Edit Subscription Plan</h3>\n      <form @submit.prevent=\"updateSubscriptionPlan\">\n        <div class=\"mb-3\">\n          <label for=\"version\">Version</label>\n          <input\n            type=\"text\"\n            id=\"version\"\n            v-model=\"subscriptionPlanForm.version\"\n            placeholder=\"Version\"\n            class=\"form-control\"\n          />\n        </div>\n        <div class=\"mb-3\">\n          <label for=\"name\">Name</label>\n          <input\n            type=\"text\"\n            id=\"name\"\n            v-model=\"subscriptionPlanForm.name\"\n            placeholder=\"Name\"\n            class=\"form-control\"\n          />\n        </div>\n        <div class=\"mb-3\">\n          <label for=\"start_date\">Start Date</label>\n          <input\n            type=\"date\"\n            id=\"start_date\"\n            v-model=\"subscriptionPlanForm.start_date\"\n            placeholder=\"Start Date\"\n            class=\"form-control\"\n          />\n        </div>\n        <div class=\"mb-3\">\n          <label for=\"subscription_price\">Subscription Price</label>\n          <input\n            type=\"number\"\n            id=\"subscription_price\"\n            v-model=\"subscriptionPlanForm.subscription_price\"\n            placeholder=\"Subscription Price\"\n            class=\"form-control\"\n          />\n        </div>\n        <div class=\"mb-3\">\n          <label for=\"subscription_language\">Subscription Language</label>\n          <select id=\"subscription_language\" v-model=\"subscriptionPlanForm.subscription_language\" class=\"form-control\">\n            <option v-for=\"language in subscriptionLanguages\" :key=\"language._id\" :value=\"language._id\">{{ language.name }}</option>\n          </select>\n        </div>\n        <div class=\"mb-3\">\n          <label for=\"subscription_mode\">Subscription Mode</label>\n          <select id=\"subscription_mode\" v-model=\"subscriptionPlanForm.subscription_mode\" class=\"form-control\">\n            <option v-for=\"mode in subscriptionModes\" :key=\"mode._id\" :value=\"mode._id\">{{ mode.name }}</option>\n          </select>\n        </div>\n        <div class=\"mb-3\">\n          <label for=\"duration_in_months\">Duration in Months</label>\n          <input\n            type=\"number\"\n            id=\"duration_in_months\"\n            v-model=\"subscriptionPlanForm.duration_in_months\"\n            placeholder=\"Duration in Months\"\n            class=\"form-control\"\n          />\n        </div>\n        <button type=\"submit\" class=\"btn btn-success mt-2\">Save</button>\n        <button type=\"button\" class=\"btn btn-secondary mt-2\" @click=\"cancelEdit\">Cancel</button>\n      </form>\n    </div>\n\n    <!-- Subscription Plans Table -->\n    <table class=\"table table-striped mt-4\">\n      <thead>\n        <tr>\n          <th>Version</th>\n          <th>Name</th>\n          <th>Start Date</th>\n          <th>Subscription Price</th>\n          <th>Language</th>\n          <th>Mode</th>\n          <th>Duration</th>\n          <th>Actions</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"subscriptionPlan in subscriptionPlans\" :key=\"subscriptionPlan._id\">\n          <td>{{ subscriptionPlan.version }}</td>\n          <td>{{ subscriptionPlan.name }}</td>\n          <td>{{ subscriptionPlan.start_date }}</td>\n          <td>{{ subscriptionPlan.subscription_price }}</td>\n          <td>{{ subscriptionPlan.subscription_language.name }}</td>\n          <td>{{ subscriptionPlan.subscription_mode.name }}</td>\n          <td>{{ subscriptionPlan.duration_in_months }}</td>\n          <td>\n            <button class=\"btn btn-warning btn-sm\" @click=\"editPlan(subscriptionPlan)\">Edit</button>\n            <button class=\"btn btn-danger btn-sm\" @click=\"deleteSubscriptionPlan(subscriptionPlan._id)\">Delete</button>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</template>\n\n<script>\nimport subscriptionPlanService from '../services/subscriptionPlanService';\nimport subscriptionLanguageService from '../services/subscriptionLanguageService';\nimport subscriptionModeService from '../services/subscriptionModeService';\n\nexport default {\n  data() {\n    return {\n      subscriptionPlans: [],\n      subscriptionLanguages: [],\n      subscriptionModes: [],\n      subscriptionPlanForm: {\n        version: '',\n        name: '',\n        start_date: '',\n        subscription_price: 0,\n        subscription_language: '',\n        subscription_mode: '',\n        duration_in_months: 0\n      },\n      editSubscriptionPlan: null\n    };\n  },\n  created() {\n    this.loadSubscriptionPlans();\n    this.loadSubscriptionLanguages();\n    this.loadSubscriptionModes();\n  },\n  methods: {\n    loadSubscriptionPlans() {\n      subscriptionPlanService.getSubscriptionPlans().then(response => {\n        this.subscriptionPlans = response.data;\n      }).catch(error => {\n        console.error(\"There was an error retrieving the subscription plans!\", error);\n      });\n    },\n    loadSubscriptionLanguages() {\n      subscriptionLanguageService.getSubscriptionLanguages().then(response => {\n        this.subscriptionLanguages = response.data;\n      }).catch(error => {\n        console.error(\"There was an error retrieving the subscription languages!\", error);\n      });\n    },\n    loadSubscriptionModes() {\n      subscriptionModeService.getSubscriptionModes().then(response => {\n        this.subscriptionModes = response.data;\n      }).catch(error => {\n        console.error(\"There was an error retrieving the subscription modes!\", error);\n      });\n    },\n    addSubscriptionPlan() {\n      if (this.subscriptionPlanForm.name.trim()) {\n        subscriptionPlanService.createSubscriptionPlan(this.subscriptionPlanForm).then(() => {\n          this.loadSubscriptionPlans();\n          this.resetForm();\n        }).catch(error => {\n          console.error(\"There was an error adding the subscription plan!\", error);\n        });\n      }\n    },\n    editPlan(subscriptionPlan) {\n      this.editSubscriptionPlan = { ...subscriptionPlan };\n      this.subscriptionPlanForm = { ...subscriptionPlan, subscription_language: subscriptionPlan.subscription_language._id, subscription_mode: subscriptionPlan.subscription_mode._id };\n    },\n    updateSubscriptionPlan() {\n      if (this.subscriptionPlanForm.name.trim()) {\n        subscriptionPlanService.updateSubscriptionPlan(this.editSubscriptionPlan._id, this.subscriptionPlanForm).then(() => {\n          this.loadSubscriptionPlans();\n          this.editSubscriptionPlan = null;\n          this.resetForm();\n        }).catch(error => {\n          console.error(\"There was an error updating the subscription plan!\", error);\n        });\n      }\n    },\n    deleteSubscriptionPlan(id) {\n      subscriptionPlanService.deleteSubscriptionPlan(id).then(() => {\n        this.loadSubscriptionPlans();\n      }).catch(error => {\n        console.error(\"There was an error deleting the subscription plan!\", error);\n      });\n    },\n    cancelEdit() {\n      this.editSubscriptionPlan = null;\n      this.resetForm();\n    },\n    resetForm() {\n      this.subscriptionPlanForm = {\n        version: '',\n        name: '',\n        start_date: '',\n        subscription_price: 0,\n        subscription_language: '',\n        subscription_mode: '',\n        duration_in_months: 0\n      };\n    }\n  }\n};\n</script>\n\n<style scoped>\n/* Add your styles here */\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}