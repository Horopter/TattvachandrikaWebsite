{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createBlock as _createBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-6f458b57\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"container mt-5\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"Subscribers\", -1 /* HOISTED */));\nconst _hoisted_3 = {\n  \"aria-label\": \"breadcrumb\"\n};\nconst _hoisted_4 = {\n  class: \"breadcrumb\"\n};\nconst _hoisted_5 = {\n  class: \"breadcrumb-item\"\n};\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"li\", {\n  class: \"breadcrumb-item active\",\n  \"aria-current\": \"page\"\n}, \"Subscribers\", -1 /* HOISTED */));\nconst _hoisted_7 = {\n  class: \"table table-striped mt-4\"\n};\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", null, \"Name\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Registration Number\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"City/Town\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"State\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Phone\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Email\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Category\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Type\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Active Subscriptions\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Actions\")])], -1 /* HOISTED */));\nconst _hoisted_9 = [\"onClick\"];\nconst _hoisted_10 = [\"onClick\"];\nconst _hoisted_11 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  const _component_confirmation_modal = _resolveComponent(\"confirmation-modal\");\n  const _component_subscriber_modal = _resolveComponent(\"subscriber-modal\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"nav\", _hoisted_3, [_createElementVNode(\"ol\", _hoisted_4, [_createElementVNode(\"li\", _hoisted_5, [_createVNode(_component_router_link, {\n    to: \"/\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Home\")]),\n    _: 1 /* STABLE */\n  })]), _hoisted_6])]), _createElementVNode(\"button\", {\n    class: \"btn btn-success mt-3\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.startAddingNew && $options.startAddingNew(...args))\n  }, \"Add New Subscriber\"), _createElementVNode(\"table\", _hoisted_7, [_hoisted_8, _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.subscribers, subscriber => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: subscriber._id\n    }, [_createElementVNode(\"td\", null, _toDisplayString(subscriber.name), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(subscriber.registration_number), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(subscriber.city_town), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(subscriber.state), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(subscriber.phone), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(subscriber.email), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString($options.getCategoryName(subscriber.category)), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString($options.getTypeName(subscriber.stype)), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(subscriber.hasActiveSubscriptions), 1 /* TEXT */), _createElementVNode(\"td\", null, [_createElementVNode(\"button\", {\n      class: \"btn btn-primary btn-sm\",\n      onClick: $event => $options.viewSubscriber(subscriber)\n    }, \"View\", 8 /* PROPS */, _hoisted_9), _createElementVNode(\"button\", {\n      class: \"btn btn-warning btn-sm\",\n      onClick: $event => $options.editSubscriber(subscriber)\n    }, \"Edit\", 8 /* PROPS */, _hoisted_10), _createElementVNode(\"button\", {\n      class: \"btn btn-danger btn-sm\",\n      onClick: $event => $options.showDeleteModal(subscriber._id)\n    }, \"Delete\", 8 /* PROPS */, _hoisted_11)])]);\n  }), 128 /* KEYED_FRAGMENT */))])]), $data.showConfirmationModal ? (_openBlock(), _createBlock(_component_confirmation_modal, {\n    key: 0,\n    show: $data.showConfirmationModal,\n    title: \"Confirm Delete\",\n    message: \"Are you sure you want to delete this subscriber?\",\n    onClose: $options.hideDeleteModal,\n    onConfirm: $options.deleteSubscriber\n  }, null, 8 /* PROPS */, [\"show\", \"onClose\", \"onConfirm\"])) : _createCommentVNode(\"v-if\", true), $data.showSubscriberModal ? (_openBlock(), _createBlock(_component_subscriber_modal, {\n    key: 1,\n    show: $data.showSubscriberModal,\n    subscriber: $data.selectedSubscriber,\n    categories: $data.categories,\n    types: $data.types,\n    onClose: _ctx.hideSubscriberModal,\n    onSave: $options.saveSubscriber\n  }, null, 8 /* PROPS */, [\"show\", \"subscriber\", \"categories\", \"types\", \"onClose\", \"onSave\"])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_createVNode","_component_router_link","to","default","_withCtx","_createTextVNode","_","_hoisted_6","onClick","_cache","args","$options","startAddingNew","_hoisted_7","_hoisted_8","_Fragment","_renderList","$data","subscribers","subscriber","key","_id","_toDisplayString","name","registration_number","city_town","state","phone","email","getCategoryName","category","getTypeName","stype","hasActiveSubscriptions","$event","viewSubscriber","_hoisted_9","editSubscriber","_hoisted_10","showDeleteModal","_hoisted_11","showConfirmationModal","_createBlock","_component_confirmation_modal","show","title","message","onClose","hideDeleteModal","onConfirm","deleteSubscriber","_createCommentVNode","showSubscriberModal","_component_subscriber_modal","selectedSubscriber","categories","types","_ctx","hideSubscriberModal","onSave","saveSubscriber"],"sources":["C:\\Users\\santoshdesai\\Tattvachandrika\\tcenv-ui\\tattvachandrika-admin\\src\\components\\MagazineSubscribers.vue"],"sourcesContent":["<template>\n  <div class=\"container mt-5\">\n    <h2>Subscribers</h2>\n    <nav aria-label=\"breadcrumb\">\n      <ol class=\"breadcrumb\">\n        <li class=\"breadcrumb-item\"><router-link to=\"/\">Home</router-link></li>\n        <li class=\"breadcrumb-item active\" aria-current=\"page\">Subscribers</li>\n      </ol>\n    </nav>\n\n    <button class=\"btn btn-success mt-3\" @click=\"startAddingNew\">Add New Subscriber</button>\n\n    <table class=\"table table-striped mt-4\">\n      <thead>\n        <tr>\n          <th>Name</th>\n          <th>Registration Number</th>\n          <th>City/Town</th>\n          <th>State</th>\n          <th>Phone</th>\n          <th>Email</th>\n          <th>Category</th>\n          <th>Type</th>\n          <th>Active Subscriptions</th>\n          <th>Actions</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"subscriber in subscribers\" :key=\"subscriber._id\">\n          <td>{{ subscriber.name }}</td>\n          <td>{{ subscriber.registration_number }}</td>\n          <td>{{ subscriber.city_town }}</td>\n          <td>{{ subscriber.state }}</td>\n          <td>{{ subscriber.phone }}</td>\n          <td>{{ subscriber.email }}</td>\n          <td>{{ getCategoryName(subscriber.category) }}</td>\n          <td>{{ getTypeName(subscriber.stype) }}</td>\n          <td>{{ subscriber.hasActiveSubscriptions }}</td>\n          <td>\n            <button class=\"btn btn-primary btn-sm\" @click=\"viewSubscriber(subscriber)\">View</button>\n            <button class=\"btn btn-warning btn-sm\" @click=\"editSubscriber(subscriber)\">Edit</button>\n            <button class=\"btn btn-danger btn-sm\" @click=\"showDeleteModal(subscriber._id)\">Delete</button>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n\n    <confirmation-modal\n      v-if=\"showConfirmationModal\"\n      :show=\"showConfirmationModal\"\n      title=\"Confirm Delete\"\n      message=\"Are you sure you want to delete this subscriber?\"\n      @close=\"hideDeleteModal\"\n      @confirm=\"deleteSubscriber\"\n    />\n\n    <subscriber-modal\n      v-if=\"showSubscriberModal\"\n      :show=\"showSubscriberModal\"\n      :subscriber=\"selectedSubscriber\"\n      :categories=\"categories\"\n      :types=\"types\"\n      @close=\"hideSubscriberModal\"\n      @save=\"saveSubscriber\"\n    />\n  </div>\n</template>\n\n<script>\nimport subscriberService from '../services/subscriberService';\nimport confirmationModal from './ConfirmationModal.vue';\nimport subscriberModal from './SubscriberModal.vue';\n\nexport default {\n  components: {\n    confirmationModal,\n    subscriberModal\n  },\n  data() {\n    return {\n      subscribers: [],\n      showConfirmationModal: false,\n      showSubscriberModal: false,\n      selectedSubscriber: null,\n      categories: [],\n      types: [],\n      subscriberToDelete: null\n    };\n  },\n  created() {\n    this.loadSubscribers();\n    this.loadCategories();\n    this.loadTypes();\n  },\n  methods: {\n    loadSubscribers() {\n      subscriberService.getSubscribers().then(response => {\n        this.subscribers = response.data;\n      }).catch(error => {\n        console.error(\"There was an error retrieving the subscribers!\", error);\n      });\n    },\n    loadCategories() {\n      subscriberService.getCategories().then(response => {\n        this.categories = response.data;\n      }).catch(error => {\n        console.error(\"There was an error retrieving the categories!\", error);\n      });\n    },\n    loadTypes() {\n      subscriberService.getTypes().then(response => {\n        this.types = response.data;\n      }).catch(error => {\n        console.error(\"There was an error retrieving the types!\", error);\n      });\n    },\n    startAddingNew() {\n      this.selectedSubscriber = {};\n      this.showSubscriberModal = true;\n    },\n    viewSubscriber(subscriber) {\n      this.$router.push({ name: 'SubscriberDetails', params: { id: subscriber._id } });\n    },\n    editSubscriber(subscriber) {\n      this.selectedSubscriber = { ...subscriber };\n      this.showSubscriberModal = true;\n    },\n    saveSubscriber(subscriber) {\n      if (subscriber._id) {\n        subscriberService.updateSubscriber(subscriber._id, subscriber).then(() => {\n          this.loadSubscribers();\n          this.showSubscriberModal = false;\n        }).catch(error => {\n          console.error(\"There was an error updating the subscriber!\", error);\n        });\n      } else {\n        subscriberService.createSubscriber(subscriber).then(() => {\n          this.loadSubscribers();\n          this.showSubscriberModal = false;\n        }).catch(error => {\n          console.error(\"There was an error creating the subscriber!\", error);\n        });\n      }\n    },\n    showDeleteModal(subscriberId) {\n      this.subscriberToDelete = subscriberId;\n      this.showConfirmationModal = true;\n    },\n    hideDeleteModal() {\n      this.showConfirmationModal = false;\n      this.subscriberToDelete = null;\n    },\n    deleteSubscriber() {\n      subscriberService.deleteSubscriber(this.subscriberToDelete).then(() => {\n        this.loadSubscribers();\n        this.hideDeleteModal();\n      }).catch(error => {\n        console.error(\"There was an error deleting the subscriber!\", error);\n      });\n    },\n    getCategoryName(categoryId) {\n      const category = this.categories.find(cat => cat._id === categoryId);\n      return category ? category.name : '';\n    },\n    getTypeName(typeId) {\n      const type = this.types.find(typ => typ._id === typeId);\n      return type ? type.name : '';\n    }\n  }\n};\n</script>\n\n<style scoped>\n/* Add your styles here */\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}