{"ast":null,"code":"import magazineSubscriberService from '@/services/magazineSubscriberService';\nexport default {\n  props: {\n    isEdit: {\n      type: Boolean,\n      default: false\n    },\n    subscriber: {\n      type: Object,\n      default: () => ({})\n    }\n  },\n  data() {\n    return {\n      show: false,\n      localSubscriber: {\n        ...this.subscriber\n      },\n      categories: [],\n      types: []\n    };\n  },\n  watch: {\n    subscriber: {\n      immediate: true,\n      handler(newSubscriber) {\n        this.localSubscriber = {\n          ...newSubscriber\n        };\n      }\n    },\n    show(value) {\n      if (!value) {\n        this.$emit('close');\n      }\n    }\n  },\n  methods: {\n    fetchCategories() {\n      magazineSubscriberService.getCategories().then(response => {\n        this.categories = response.data.map(category => ({\n          value: category._id,\n          text: category.name\n        }));\n      });\n    },\n    fetchTypes() {\n      magazineSubscriberService.getTypes().then(response => {\n        this.types = response.data.map(type => ({\n          value: type._id,\n          text: type.name\n        }));\n      });\n    },\n    saveSubscriber() {\n      const action = this.isEdit ? magazineSubscriberService.updateMagazineSubscriber(this.localSubscriber._id, this.localSubscriber) : magazineSubscriberService.createMagazineSubscriber(this.localSubscriber);\n      action.then(() => {\n        this.$emit('save');\n        this.show = false;\n      });\n    },\n    handleClose() {\n      this.show = false;\n      this.$emit('close');\n    }\n  },\n  mounted() {\n    this.fetchCategories();\n    this.fetchTypes();\n  }\n};","map":{"version":3,"names":["magazineSubscriberService","props","isEdit","type","Boolean","default","subscriber","Object","data","show","localSubscriber","categories","types","watch","immediate","handler","newSubscriber","value","$emit","methods","fetchCategories","getCategories","then","response","map","category","_id","text","name","fetchTypes","getTypes","saveSubscriber","action","updateMagazineSubscriber","createMagazineSubscriber","handleClose","mounted"],"sources":["C:\\Users\\santoshdesai\\Tattvachandrika\\tcenv-ui\\tattvachandrika-admin\\src\\components\\AddEditSubscriberModal.vue"],"sourcesContent":["<template>\r\n  <b-modal v-model=\"show\" @hide=\"handleClose\" title=\"Add/Edit Subscriber\">\r\n    <b-form @submit.prevent=\"saveSubscriber\">\r\n      <b-form-group label=\"Name\" label-for=\"name\">\r\n        <b-form-input id=\"name\" v-model=\"localSubscriber.name\" required></b-form-input>\r\n      </b-form-group>\r\n      <b-form-group label=\"Registration Number\" label-for=\"registration_number\">\r\n        <b-form-input id=\"registration_number\" v-model=\"localSubscriber.registration_number\" required></b-form-input>\r\n      </b-form-group>\r\n      <b-form-group label=\"Address\" label-for=\"address\">\r\n        <b-form-input id=\"address\" v-model=\"localSubscriber.address\"></b-form-input>\r\n      </b-form-group>\r\n      <b-form-group label=\"City/Town\" label-for=\"city_town\">\r\n        <b-form-input id=\"city_town\" v-model=\"localSubscriber.city_town\"></b-form-input>\r\n      </b-form-group>\r\n      <b-form-group label=\"State\" label-for=\"state\">\r\n        <b-form-input id=\"state\" v-model=\"localSubscriber.state\"></b-form-input>\r\n      </b-form-group>\r\n      <b-form-group label=\"Pincode\" label-for=\"pincode\">\r\n        <b-form-input id=\"pincode\" v-model=\"localSubscriber.pincode\"></b-form-input>\r\n      </b-form-group>\r\n      <b-form-group label=\"Phone\" label-for=\"phone\">\r\n        <b-form-input id=\"phone\" v-model=\"localSubscriber.phone\"></b-form-input>\r\n      </b-form-group>\r\n      <b-form-group label=\"Email\" label-for=\"email\">\r\n        <b-form-input type=\"email\" id=\"email\" v-model=\"localSubscriber.email\" required></b-form-input>\r\n      </b-form-group>\r\n      <b-form-group label=\"Category\" label-for=\"category\">\r\n        <b-form-select id=\"category\" v-model=\"localSubscriber.category\" :options=\"categories\" required></b-form-select>\r\n      </b-form-group>\r\n      <b-form-group label=\"Type\" label-for=\"stype\">\r\n        <b-form-select id=\"stype\" v-model=\"localSubscriber.stype\" :options=\"types\" required></b-form-select>\r\n      </b-form-group>\r\n      <b-form-group label=\"Notes\" label-for=\"notes\">\r\n        <b-form-textarea id=\"notes\" v-model=\"localSubscriber.notes\"></b-form-textarea>\r\n      </b-form-group>\r\n      <b-button type=\"submit\" variant=\"primary\">{{ isEdit ? 'Update' : 'Add' }}</b-button>\r\n    </b-form>\r\n  </b-modal>\r\n</template>\r\n\r\n<script>\r\nimport magazineSubscriberService from '@/services/magazineSubscriberService';\r\n\r\nexport default {\r\n  props: {\r\n    isEdit: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    subscriber: {\r\n      type: Object,\r\n      default: () => ({}),\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      show: false,\r\n      localSubscriber: { ...this.subscriber },\r\n      categories: [],\r\n      types: [],\r\n    };\r\n  },\r\n  watch: {\r\n    subscriber: {\r\n      immediate: true,\r\n      handler(newSubscriber) {\r\n        this.localSubscriber = { ...newSubscriber };\r\n      },\r\n    },\r\n    show(value) {\r\n      if (!value) {\r\n        this.$emit('close');\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    fetchCategories() {\r\n      magazineSubscriberService.getCategories().then((response) => {\r\n        this.categories = response.data.map((category) => ({\r\n          value: category._id,\r\n          text: category.name,\r\n        }));\r\n      });\r\n    },\r\n    fetchTypes() {\r\n      magazineSubscriberService.getTypes().then((response) => {\r\n        this.types = response.data.map((type) => ({\r\n          value: type._id,\r\n          text: type.name,\r\n        }));\r\n      });\r\n    },\r\n    saveSubscriber() {\r\n      const action = this.isEdit\r\n        ? magazineSubscriberService.updateMagazineSubscriber(this.localSubscriber._id, this.localSubscriber)\r\n        : magazineSubscriberService.createMagazineSubscriber(this.localSubscriber);\r\n      action.then(() => {\r\n        this.$emit('save');\r\n        this.show = false;\r\n      });\r\n    },\r\n    handleClose() {\r\n      this.show = false;\r\n      this.$emit('close');\r\n    },\r\n  },\r\n  mounted() {\r\n    this.fetchCategories();\r\n    this.fetchTypes();\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n/* Add your styles here */\r\n</style>\r\n"],"mappings":"AA0CA,OAAOA,yBAAwB,MAAO,sCAAsC;AAE5E,eAAe;EACbC,KAAK,EAAE;IACLC,MAAM,EAAE;MACNC,IAAI,EAAEC,OAAO;MACbC,OAAO,EAAE;IACX,CAAC;IACDC,UAAU,EAAE;MACVH,IAAI,EAAEI,MAAM;MACZF,OAAO,EAAEA,CAAA,MAAO,CAAC,CAAC;IACpB;EACF,CAAC;EACDG,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,IAAI,EAAE,KAAK;MACXC,eAAe,EAAE;QAAE,GAAG,IAAI,CAACJ;MAAW,CAAC;MACvCK,UAAU,EAAE,EAAE;MACdC,KAAK,EAAE;IACT,CAAC;EACH,CAAC;EACDC,KAAK,EAAE;IACLP,UAAU,EAAE;MACVQ,SAAS,EAAE,IAAI;MACfC,OAAOA,CAACC,aAAa,EAAE;QACrB,IAAI,CAACN,eAAc,GAAI;UAAE,GAAGM;QAAc,CAAC;MAC7C;IACF,CAAC;IACDP,IAAIA,CAACQ,KAAK,EAAE;MACV,IAAI,CAACA,KAAK,EAAE;QACV,IAAI,CAACC,KAAK,CAAC,OAAO,CAAC;MACrB;IACF;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,eAAeA,CAAA,EAAG;MAChBpB,yBAAyB,CAACqB,aAAa,CAAC,CAAC,CAACC,IAAI,CAAEC,QAAQ,IAAK;QAC3D,IAAI,CAACZ,UAAS,GAAIY,QAAQ,CAACf,IAAI,CAACgB,GAAG,CAAEC,QAAQ,KAAM;UACjDR,KAAK,EAAEQ,QAAQ,CAACC,GAAG;UACnBC,IAAI,EAAEF,QAAQ,CAACG;QACjB,CAAC,CAAC,CAAC;MACL,CAAC,CAAC;IACJ,CAAC;IACDC,UAAUA,CAAA,EAAG;MACX7B,yBAAyB,CAAC8B,QAAQ,CAAC,CAAC,CAACR,IAAI,CAAEC,QAAQ,IAAK;QACtD,IAAI,CAACX,KAAI,GAAIW,QAAQ,CAACf,IAAI,CAACgB,GAAG,CAAErB,IAAI,KAAM;UACxCc,KAAK,EAAEd,IAAI,CAACuB,GAAG;UACfC,IAAI,EAAExB,IAAI,CAACyB;QACb,CAAC,CAAC,CAAC;MACL,CAAC,CAAC;IACJ,CAAC;IACDG,cAAcA,CAAA,EAAG;MACf,MAAMC,MAAK,GAAI,IAAI,CAAC9B,MAAK,GACrBF,yBAAyB,CAACiC,wBAAwB,CAAC,IAAI,CAACvB,eAAe,CAACgB,GAAG,EAAE,IAAI,CAAChB,eAAe,IACjGV,yBAAyB,CAACkC,wBAAwB,CAAC,IAAI,CAACxB,eAAe,CAAC;MAC5EsB,MAAM,CAACV,IAAI,CAAC,MAAM;QAChB,IAAI,CAACJ,KAAK,CAAC,MAAM,CAAC;QAClB,IAAI,CAACT,IAAG,GAAI,KAAK;MACnB,CAAC,CAAC;IACJ,CAAC;IACD0B,WAAWA,CAAA,EAAG;MACZ,IAAI,CAAC1B,IAAG,GAAI,KAAK;MACjB,IAAI,CAACS,KAAK,CAAC,OAAO,CAAC;IACrB;EACF,CAAC;EACDkB,OAAOA,CAAA,EAAG;IACR,IAAI,CAAChB,eAAe,CAAC,CAAC;IACtB,IAAI,CAACS,UAAU,CAAC,CAAC;EACnB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}