{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelSelect as _vModelSelect, withDirectives as _withDirectives, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-d42dc6f4\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"container mt-5\"\n};\nconst _hoisted_2 = {\n  \"aria-label\": \"breadcrumb\"\n};\nconst _hoisted_3 = {\n  class: \"breadcrumb\"\n};\nconst _hoisted_4 = {\n  class: \"breadcrumb-item\"\n};\nconst _hoisted_5 = {\n  class: \"breadcrumb-item\"\n};\nconst _hoisted_6 = {\n  class: \"breadcrumb-item active\",\n  \"aria-current\": \"page\"\n};\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"Subscriber Details\", -1 /* HOISTED */));\nconst _hoisted_8 = {\n  key: 0\n};\nconst _hoisted_9 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"strong\", null, \"Name:\", -1 /* HOISTED */));\nconst _hoisted_10 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"strong\", null, \"Registration Number:\", -1 /* HOISTED */));\nconst _hoisted_11 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"strong\", null, \"Address:\", -1 /* HOISTED */));\nconst _hoisted_12 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"strong\", null, \"City/Town:\", -1 /* HOISTED */));\nconst _hoisted_13 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"strong\", null, \"State:\", -1 /* HOISTED */));\nconst _hoisted_14 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"strong\", null, \"Pincode:\", -1 /* HOISTED */));\nconst _hoisted_15 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"strong\", null, \"Phone:\", -1 /* HOISTED */));\nconst _hoisted_16 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"strong\", null, \"Email:\", -1 /* HOISTED */));\nconst _hoisted_17 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"strong\", null, \"Category:\", -1 /* HOISTED */));\nconst _hoisted_18 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"strong\", null, \"Type:\", -1 /* HOISTED */));\nconst _hoisted_19 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"strong\", null, \"Notes:\", -1 /* HOISTED */));\nconst _hoisted_20 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"strong\", null, \"Has Active Subscriptions:\", -1 /* HOISTED */));\nconst _hoisted_21 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"ul\", {\n  class: \"nav nav-tabs mt-3\",\n  id: \"subscriptionTab\",\n  role: \"tablist\"\n}, [/*#__PURE__*/_createElementVNode(\"li\", {\n  class: \"nav-item\",\n  role: \"presentation\"\n}, [/*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"nav-link active\",\n  id: \"active-sub-tab\",\n  \"data-bs-toggle\": \"tab\",\n  \"data-bs-target\": \"#active-sub\",\n  type: \"button\",\n  role: \"tab\",\n  \"aria-controls\": \"active-sub\",\n  \"aria-selected\": \"true\"\n}, \"Active Subscriptions\")]), /*#__PURE__*/_createElementVNode(\"li\", {\n  class: \"nav-item\",\n  role: \"presentation\"\n}, [/*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"nav-link\",\n  id: \"inactive-sub-tab\",\n  \"data-bs-toggle\": \"tab\",\n  \"data-bs-target\": \"#inactive-sub\",\n  type: \"button\",\n  role: \"tab\",\n  \"aria-controls\": \"inactive-sub\",\n  \"aria-selected\": \"false\"\n}, \"Inactive Subscriptions\")])], -1 /* HOISTED */));\nconst _hoisted_22 = {\n  class: \"tab-content\",\n  id: \"subscriptionTabContent\"\n};\nconst _hoisted_23 = {\n  class: \"tab-pane fade show active\",\n  id: \"active-sub\",\n  role: \"tabpanel\",\n  \"aria-labelledby\": \"active-sub-tab\"\n};\nconst _hoisted_24 = {\n  class: \"table table-striped mt-3\"\n};\nconst _hoisted_25 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", null, \"Start Date\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"End Date\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Subscription Plan\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Payment Status\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Payment Mode\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Payment Date\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Actions\")])], -1 /* HOISTED */));\nconst _hoisted_26 = [\"onUpdate:modelValue\", \"onChange\"];\nconst _hoisted_27 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"Pending\"\n}, \"Pending\", -1 /* HOISTED */));\nconst _hoisted_28 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"Successful\"\n}, \"Successful\", -1 /* HOISTED */));\nconst _hoisted_29 = [_hoisted_27, _hoisted_28];\nconst _hoisted_30 = {\n  key: 1\n};\nconst _hoisted_31 = [\"onClick\"];\nconst _hoisted_32 = {\n  class: \"tab-pane fade\",\n  id: \"inactive-sub\",\n  role: \"tabpanel\",\n  \"aria-labelledby\": \"inactive-sub-tab\"\n};\nconst _hoisted_33 = {\n  class: \"table table-striped mt-3\"\n};\nconst _hoisted_34 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", null, \"Start Date\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"End Date\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Subscription Plan\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Payment Status\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Payment Mode\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Payment Date\")])], -1 /* HOISTED */));\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  const _component_add_edit_subscription_modal = _resolveComponent(\"add-edit-subscription-modal\");\n  const _component_confirmation_modal = _resolveComponent(\"confirmation-modal\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" Breadcrumbs \"), _createElementVNode(\"nav\", _hoisted_2, [_createElementVNode(\"ol\", _hoisted_3, [_createElementVNode(\"li\", _hoisted_4, [_createVNode(_component_router_link, {\n    to: \"/\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Home\")]),\n    _: 1 /* STABLE */\n  })]), _createElementVNode(\"li\", _hoisted_5, [_createVNode(_component_router_link, {\n    to: \"/subscribers\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Subscribers\")]),\n    _: 1 /* STABLE */\n  })]), _createElementVNode(\"li\", _hoisted_6, _toDisplayString($data.subscriber.name), 1 /* TEXT */)])]), _createCommentVNode(\" Subscriber Details \"), _hoisted_7, $data.subscriber ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [_createElementVNode(\"p\", null, [_hoisted_9, _createTextVNode(\" \" + _toDisplayString($data.subscriber.name), 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_hoisted_10, _createTextVNode(\" \" + _toDisplayString($data.subscriber.registration_number), 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_hoisted_11, _createTextVNode(\" \" + _toDisplayString($data.subscriber.address), 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_hoisted_12, _createTextVNode(\" \" + _toDisplayString($data.subscriber.city_town), 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_hoisted_13, _createTextVNode(\" \" + _toDisplayString($data.subscriber.state), 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_hoisted_14, _createTextVNode(\" \" + _toDisplayString($data.subscriber.pincode), 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_hoisted_15, _createTextVNode(\" \" + _toDisplayString($data.subscriber.phone), 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_hoisted_16, _createTextVNode(\" \" + _toDisplayString($data.subscriber.email), 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_hoisted_17, _createTextVNode(\" \" + _toDisplayString($options.getCategoryName($data.subscriber.category)), 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_hoisted_18, _createTextVNode(\" \" + _toDisplayString($options.getTypeName($data.subscriber.stype)), 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_hoisted_19, _createTextVNode(\" \" + _toDisplayString($data.subscriber.notes), 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_hoisted_20, _createTextVNode(\" \" + _toDisplayString($data.subscriber.hasActiveSubscriptions), 1 /* TEXT */)]), _createElementVNode(\"button\", {\n    class: \"btn btn-primary\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.openAddSubscriptionModal && $options.openAddSubscriptionModal(...args))\n  }, \"Add Subscription\"), _createCommentVNode(\" Tabs for Active and Inactive Subscriptions \"), _hoisted_21, _createElementVNode(\"div\", _hoisted_22, [_createElementVNode(\"div\", _hoisted_23, [_createCommentVNode(\" Active Subscriptions Table \"), _createElementVNode(\"table\", _hoisted_24, [_hoisted_25, _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.activeSubscriptions, subscription => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: subscription._id\n    }, [_createElementVNode(\"td\", null, _toDisplayString(subscription.start_date), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(subscription.end_date), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString($options.getPlanName(subscription.subscription_plan)), 1 /* TEXT */), _createElementVNode(\"td\", null, [subscription.payment_status !== 'Successful' ? _withDirectives((_openBlock(), _createElementBlock(\"select\", {\n      key: 0,\n      \"onUpdate:modelValue\": $event => subscription.payment_status = $event,\n      onChange: $event => $options.confirmPaymentSuccess(subscription)\n    }, [..._hoisted_29], 40 /* PROPS, NEED_HYDRATION */, _hoisted_26)), [[_vModelSelect, subscription.payment_status]]) : (_openBlock(), _createElementBlock(\"span\", _hoisted_30, _toDisplayString(subscription.payment_status), 1 /* TEXT */))]), _createElementVNode(\"td\", null, _toDisplayString($options.getPaymentModeName(subscription.payment_mode)), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(subscription.payment_date), 1 /* TEXT */), _createElementVNode(\"td\", null, [subscription.payment_status !== 'Successful' ? (_openBlock(), _createElementBlock(\"button\", {\n      key: 0,\n      class: \"btn btn-primary btn-sm\",\n      onClick: $event => $options.editSubscription(subscription)\n    }, \"Edit\", 8 /* PROPS */, _hoisted_31)) : _createCommentVNode(\"v-if\", true)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])]), _createElementVNode(\"div\", _hoisted_32, [_createCommentVNode(\" Inactive Subscriptions Table \"), _createElementVNode(\"table\", _hoisted_33, [_hoisted_34, _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.inactiveSubscriptions, subscription => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: subscription._id\n    }, [_createElementVNode(\"td\", null, _toDisplayString(subscription.start_date), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(subscription.end_date), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString($options.getPlanName(subscription.subscription_plan)), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(subscription.payment_status), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString($options.getPaymentModeName(subscription.payment_mode)), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(subscription.payment_date), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))])])])])])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Add/Edit Subscription Modal \"), _createVNode(_component_add_edit_subscription_modal, {\n    show: $data.showAddEditSubscriptionModal,\n    subscription: $data.selectedSubscription,\n    plans: $data.plans,\n    paymentModes: $data.paymentModes,\n    onClose: $options.closeAddEditSubscriptionModal,\n    onSave: $options.saveSubscription\n  }, null, 8 /* PROPS */, [\"show\", \"subscription\", \"plans\", \"paymentModes\", \"onClose\", \"onSave\"]), _createCommentVNode(\" Confirmation Modal \"), $data.showConfirmationModal ? (_openBlock(), _createBlock(_component_confirmation_modal, {\n    key: 1,\n    show: $data.showConfirmationModal,\n    title: \"Confirm Payment Success\",\n    message: \"Are you sure you want to mark this payment as successful? This action cannot be undone.\",\n    onClose: $options.hideConfirmationModal,\n    onConfirm: $options.markPaymentSuccess\n  }, null, 8 /* PROPS */, [\"show\", \"onClose\", \"onConfirm\"])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","_createElementVNode","key","id","role","type","value","_hoisted_27","_hoisted_28","_createElementBlock","_hoisted_1","_createCommentVNode","_hoisted_2","_hoisted_3","_hoisted_4","_createVNode","_component_router_link","to","default","_withCtx","_createTextVNode","_","_hoisted_5","_hoisted_6","_toDisplayString","$data","subscriber","name","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","registration_number","_hoisted_11","address","_hoisted_12","city_town","_hoisted_13","state","_hoisted_14","pincode","_hoisted_15","phone","_hoisted_16","email","_hoisted_17","$options","getCategoryName","category","_hoisted_18","getTypeName","stype","_hoisted_19","notes","_hoisted_20","hasActiveSubscriptions","onClick","_cache","args","openAddSubscriptionModal","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_Fragment","_renderList","activeSubscriptions","subscription","_id","start_date","end_date","getPlanName","subscription_plan","payment_status","$event","onChange","confirmPaymentSuccess","_hoisted_29","_hoisted_26","_hoisted_30","getPaymentModeName","payment_mode","payment_date","editSubscription","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","inactiveSubscriptions","_component_add_edit_subscription_modal","show","showAddEditSubscriptionModal","selectedSubscription","plans","paymentModes","onClose","closeAddEditSubscriptionModal","onSave","saveSubscription","showConfirmationModal","_createBlock","_component_confirmation_modal","title","message","hideConfirmationModal","onConfirm","markPaymentSuccess"],"sources":["C:\\Users\\santoshdesai\\Tattvachandrika\\tcenv-ui\\tattvachandrika-admin\\src\\components\\MagazineSubscriberDetails.vue"],"sourcesContent":["<template>\r\n  <div class=\"container mt-5\">\r\n    <!-- Breadcrumbs -->\r\n    <nav aria-label=\"breadcrumb\">\r\n      <ol class=\"breadcrumb\">\r\n        <li class=\"breadcrumb-item\"><router-link to=\"/\">Home</router-link></li>\r\n        <li class=\"breadcrumb-item\"><router-link to=\"/subscribers\">Subscribers</router-link></li>\r\n        <li class=\"breadcrumb-item active\" aria-current=\"page\">{{ subscriber.name }}</li>\r\n      </ol>\r\n    </nav>\r\n\r\n    <!-- Subscriber Details -->\r\n    <h2>Subscriber Details</h2>\r\n    <div v-if=\"subscriber\">\r\n      <p><strong>Name:</strong> {{ subscriber.name }}</p>\r\n      <p><strong>Registration Number:</strong> {{ subscriber.registration_number }}</p>\r\n      <p><strong>Address:</strong> {{ subscriber.address }}</p>\r\n      <p><strong>City/Town:</strong> {{ subscriber.city_town }}</p>\r\n      <p><strong>State:</strong> {{ subscriber.state }}</p>\r\n      <p><strong>Pincode:</strong> {{ subscriber.pincode }}</p>\r\n      <p><strong>Phone:</strong> {{ subscriber.phone }}</p>\r\n      <p><strong>Email:</strong> {{ subscriber.email }}</p>\r\n      <p><strong>Category:</strong> {{ getCategoryName(subscriber.category) }}</p>\r\n      <p><strong>Type:</strong> {{ getTypeName(subscriber.stype) }}</p>\r\n      <p><strong>Notes:</strong> {{ subscriber.notes }}</p>\r\n      <p><strong>Has Active Subscriptions:</strong> {{ subscriber.hasActiveSubscriptions }}</p>\r\n      <button class=\"btn btn-primary\" @click=\"openAddSubscriptionModal\">Add Subscription</button>\r\n\r\n      <!-- Tabs for Active and Inactive Subscriptions -->\r\n      <ul class=\"nav nav-tabs mt-3\" id=\"subscriptionTab\" role=\"tablist\">\r\n        <li class=\"nav-item\" role=\"presentation\">\r\n          <button class=\"nav-link active\" id=\"active-sub-tab\" data-bs-toggle=\"tab\" data-bs-target=\"#active-sub\" type=\"button\" role=\"tab\" aria-controls=\"active-sub\" aria-selected=\"true\">Active Subscriptions</button>\r\n        </li>\r\n        <li class=\"nav-item\" role=\"presentation\">\r\n          <button class=\"nav-link\" id=\"inactive-sub-tab\" data-bs-toggle=\"tab\" data-bs-target=\"#inactive-sub\" type=\"button\" role=\"tab\" aria-controls=\"inactive-sub\" aria-selected=\"false\">Inactive Subscriptions</button>\r\n        </li>\r\n      </ul>\r\n      <div class=\"tab-content\" id=\"subscriptionTabContent\">\r\n        <div class=\"tab-pane fade show active\" id=\"active-sub\" role=\"tabpanel\" aria-labelledby=\"active-sub-tab\">\r\n          <!-- Active Subscriptions Table -->\r\n          <table class=\"table table-striped mt-3\">\r\n            <thead>\r\n              <tr>\r\n                <th>Start Date</th>\r\n                <th>End Date</th>\r\n                <th>Subscription Plan</th>\r\n                <th>Payment Status</th>\r\n                <th>Payment Mode</th>\r\n                <th>Payment Date</th>\r\n                <th>Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr v-for=\"subscription in activeSubscriptions\" :key=\"subscription._id\">\r\n                <td>{{ subscription.start_date }}</td>\r\n                <td>{{ subscription.end_date }}</td>\r\n                <td>{{ getPlanName(subscription.subscription_plan) }}</td>\r\n                <td>\r\n                  <select v-if=\"subscription.payment_status !== 'Successful'\" v-model=\"subscription.payment_status\" @change=\"confirmPaymentSuccess(subscription)\">\r\n                    <option value=\"Pending\">Pending</option>\r\n                    <option value=\"Successful\">Successful</option>\r\n                  </select>\r\n                  <span v-else>{{ subscription.payment_status }}</span>\r\n                </td>\r\n                <td>{{ getPaymentModeName(subscription.payment_mode) }}</td>\r\n                <td>{{ subscription.payment_date }}</td>\r\n                <td>\r\n                  <button class=\"btn btn-primary btn-sm\" @click=\"editSubscription(subscription)\" v-if=\"subscription.payment_status !== 'Successful'\">Edit</button>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <div class=\"tab-pane fade\" id=\"inactive-sub\" role=\"tabpanel\" aria-labelledby=\"inactive-sub-tab\">\r\n          <!-- Inactive Subscriptions Table -->\r\n          <table class=\"table table-striped mt-3\">\r\n            <thead>\r\n              <tr>\r\n                <th>Start Date</th>\r\n                <th>End Date</th>\r\n                <th>Subscription Plan</th>\r\n                <th>Payment Status</th>\r\n                <th>Payment Mode</th>\r\n                <th>Payment Date</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr v-for=\"subscription in inactiveSubscriptions\" :key=\"subscription._id\">\r\n                <td>{{ subscription.start_date }}</td>\r\n                <td>{{ subscription.end_date }}</td>\r\n                <td>{{ getPlanName(subscription.subscription_plan) }}</td>\r\n                <td>{{ subscription.payment_status }}</td>\r\n                <td>{{ getPaymentModeName(subscription.payment_mode) }}</td>\r\n                <td>{{ subscription.payment_date }}</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Add/Edit Subscription Modal -->\r\n    <add-edit-subscription-modal \r\n      :show=\"showAddEditSubscriptionModal\" \r\n      :subscription=\"selectedSubscription\" \r\n      :plans=\"plans\" \r\n      :paymentModes=\"paymentModes\" \r\n      @close=\"closeAddEditSubscriptionModal\" \r\n      @save=\"saveSubscription\">\r\n    </add-edit-subscription-modal>\r\n\r\n    <!-- Confirmation Modal -->\r\n    <confirmation-modal\r\n      v-if=\"showConfirmationModal\"\r\n      :show=\"showConfirmationModal\"\r\n      title=\"Confirm Payment Success\"\r\n      message=\"Are you sure you want to mark this payment as successful? This action cannot be undone.\"\r\n      @close=\"hideConfirmationModal\"\r\n      @confirm=\"markPaymentSuccess\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport AddEditSubscriptionModal from './AddEditSubscriptionModal.vue';\r\nimport ConfirmationModal from './ConfirmationModal.vue';\r\n\r\nexport default {\r\n  components: {\r\n    AddEditSubscriptionModal,\r\n    ConfirmationModal\r\n  },\r\n  data() {\r\n    return {\r\n      subscriber: null,\r\n      activeSubscriptions: [],\r\n      inactiveSubscriptions: [],\r\n      plans: [],\r\n      paymentModes: [],\r\n      showAddEditSubscriptionModal: false,\r\n      selectedSubscription: null,\r\n      showConfirmationModal: false,\r\n      subscriptionToConfirm: null\r\n    };\r\n  },\r\n  created() {\r\n    this.loadSubscriberDetails();\r\n    this.loadPlans();\r\n    this.loadPaymentModes();\r\n  },\r\n  methods: {\r\n    loadSubscriberDetails() {\r\n      const subscriberId = this.$route.params.id;\r\n      axios.get(`http://localhost:8000/api/subscribers/${subscriberId}/`)\r\n        .then(response => {\r\n          this.subscriber = response.data;\r\n          this.activeSubscriptions = this.subscriber.subscriptions.filter(sub => sub.active);\r\n          this.inactiveSubscriptions = this.subscriber.subscriptions.filter(sub => !sub.active);\r\n        })\r\n        .catch(error => {\r\n          console.error(\"There was an error retrieving the subscriber details!\", error);\r\n        });\r\n    },\r\n    loadPlans() {\r\n      axios.get('http://localhost:8000/api/subscription-plans/')\r\n        .then(response => {\r\n          this.plans = response.data;\r\n        })\r\n        .catch(error => {\r\n          console.error(\"There was an error retrieving the subscription plans!\", error);\r\n        });\r\n    },\r\n    loadPaymentModes() {\r\n      axios.get('http://localhost:8000/api/payment-modes/')\r\n        .then(response => {\r\n          this.paymentModes = response.data;\r\n        })\r\n        .catch(error => {\r\n          console.error(\"There was an error retrieving the payment modes!\", error);\r\n        });\r\n    },\r\n    openAddSubscriptionModal() {\r\n      this.selectedSubscription = {\r\n        subscription_plan: '',\r\n        start_date: '',\r\n        end_date: '',\r\n        payment_status: 'Pending',\r\n        payment_mode: '',\r\n        payment_date: ''\r\n      };\r\n      this.showAddEditSubscriptionModal = true;\r\n    },\r\n    closeAddEditSubscriptionModal() {\r\n      this.showAddEditSubscriptionModal = false;\r\n    },\r\n    saveSubscription(subscription) {\r\n      if (subscription._id) {\r\n        axios.put(`http://localhost:8000/api/subscriptions/${subscription._id}/`, subscription)\r\n          .then(() => {\r\n            this.loadSubscriberDetails();\r\n            this.showAddEditSubscriptionModal = false;\r\n          })\r\n          .catch(error => {\r\n            console.error(\"There was an error updating the subscription!\", error);\r\n          });\r\n      } else {\r\n        subscription.subscriber = this.subscriber._id;\r\n        axios.post('http://localhost:8000/api/subscriptions/', subscription)\r\n          .then(() => {\r\n            this.loadSubscriberDetails();\r\n            this.showAddEditSubscriptionModal = false;\r\n          })\r\n          .catch(error => {\r\n            console.error(\"There was an error adding the subscription!\", error);\r\n          });\r\n      }\r\n    },\r\n    editSubscription(subscription) {\r\n      this.selectedSubscription = { ...subscription };\r\n      this.showAddEditSubscriptionModal = true;\r\n    },\r\n    confirmPaymentSuccess(subscription) {\r\n      if (subscription.payment_status === 'Successful') {\r\n        this.subscriptionToConfirm = subscription;\r\n        this.showConfirmationModal = true;\r\n      }\r\n    },\r\n    hideConfirmationModal() {\r\n      this.showConfirmationModal = false;\r\n    },\r\n    markPaymentSuccess() {\r\n      if (this.subscriptionToConfirm) {\r\n        axios.put(`http://localhost:8000/api/subscriptions/${this.subscriptionToConfirm._id}/`, {\r\n          ...this.subscriptionToConfirm,\r\n          payment_status: 'Successful'\r\n        })\r\n          .then(() => {\r\n            this.loadSubscriberDetails();\r\n            this.hideConfirmationModal();\r\n          })\r\n          .catch(error => {\r\n            console.error(\"There was an error marking the payment as successful!\", error);\r\n          });\r\n      }\r\n    },\r\n    getPlanName(planId) {\r\n      const plan = this.plans.find(p => p._id === planId);\r\n      return plan ? plan.name : '';\r\n    },\r\n    getPaymentModeName(paymentModeId) {\r\n      const paymentMode = this.paymentModes.find(pm => pm._id === paymentModeId);\r\n      return paymentMode ? paymentMode.name : '';\r\n    },\r\n    getCategoryName(categoryId) {\r\n      const category = this.categories.find(cat => cat._id === categoryId);\r\n      return category ? category.name : '';\r\n    },\r\n    getTypeName(typeId) {\r\n      const type = this.types.find(typ => typ._id === typeId);\r\n      return type ? type.name : '';\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.table {\r\n  margin-top: 20px;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}