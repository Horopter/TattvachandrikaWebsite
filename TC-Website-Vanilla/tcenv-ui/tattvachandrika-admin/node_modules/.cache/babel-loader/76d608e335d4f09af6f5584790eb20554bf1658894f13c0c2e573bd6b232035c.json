{"ast":null,"code":"import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container mt-4\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_b_breadcrumb_item = _resolveComponent(\"b-breadcrumb-item\");\n  const _component_b_breadcrumb = _resolveComponent(\"b-breadcrumb\");\n  const _component_b_button = _resolveComponent(\"b-button\");\n  const _component_b_table = _resolveComponent(\"b-table\");\n  const _component_AddEditSubscriberModal = _resolveComponent(\"AddEditSubscriberModal\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_b_breadcrumb, null, {\n    default: _withCtx(() => [_createVNode(_component_b_breadcrumb_item, {\n      href: \"#\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(\"Home\")]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_b_breadcrumb_item, {\n      active: \"\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(\"Subscribers\")]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  }), _createVNode(_component_b_button, {\n    class: \"mb-3\",\n    variant: \"primary\",\n    onClick: $options.openAddSubscriberModal\n  }, {\n    default: _withCtx(() => [_createTextVNode(\" Add Subscriber \")]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_b_table, {\n    striped: \"\",\n    hover: \"\",\n    items: $data.subscribers,\n    fields: $data.fields,\n    responsive: \"sm\"\n  }, {\n    \"cell(actions)\": _withCtx(data => [_createVNode(_component_b_button, {\n      size: \"sm\",\n      variant: \"info\",\n      onClick: $event => $options.viewSubscriber(data.item)\n    }, {\n      default: _withCtx(() => [_createTextVNode(\" View \")]),\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"]), _createVNode(_component_b_button, {\n      size: \"sm\",\n      variant: \"warning\",\n      onClick: $event => $options.openEditSubscriberModal(data.item)\n    }, {\n      default: _withCtx(() => [_createTextVNode(\" Edit \")]),\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"]), _createVNode(_component_b_button, {\n      size: \"sm\",\n      variant: \"danger\",\n      onClick: $event => $options.deleteSubscriber(data.item._id)\n    }, {\n      default: _withCtx(() => [_createTextVNode(\" Delete \")]),\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"items\", \"fields\"]), $data.showModal ? (_openBlock(), _createBlock(_component_AddEditSubscriberModal, {\n    key: 0,\n    isEdit: $data.isEdit,\n    subscriber: $data.selectedSubscriber,\n    onSave: $options.fetchSubscribers,\n    onClose: $options.closeModal\n  }, null, 8 /* PROPS */, [\"isEdit\", \"subscriber\", \"onSave\", \"onClose\"])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_b_breadcrumb","default","_withCtx","_component_b_breadcrumb_item","href","_createTextVNode","_","active","_component_b_button","variant","onClick","$options","openAddSubscriberModal","_component_b_table","striped","hover","items","$data","subscribers","fields","responsive","data","size","$event","viewSubscriber","item","openEditSubscriberModal","deleteSubscriber","_id","showModal","_createBlock","_component_AddEditSubscriberModal","key","isEdit","subscriber","selectedSubscriber","onSave","fetchSubscribers","onClose","closeModal","_createCommentVNode"],"sources":["C:\\Users\\santoshdesai\\Tattvachandrika\\tcenv-ui\\tattvachandrika-admin\\src\\components\\MagazineSubscribers.vue"],"sourcesContent":["<template>\r\n  <div class=\"container mt-4\">\r\n    <b-breadcrumb>\r\n      <b-breadcrumb-item href=\"#\">Home</b-breadcrumb-item>\r\n      <b-breadcrumb-item active>Subscribers</b-breadcrumb-item>\r\n    </b-breadcrumb>\r\n\r\n    <b-button class=\"mb-3\" variant=\"primary\" @click=\"openAddSubscriberModal\">\r\n      Add Subscriber\r\n    </b-button>\r\n\r\n    <b-table striped hover :items=\"subscribers\" :fields=\"fields\" responsive=\"sm\">\r\n      <template #cell(actions)=\"data\">\r\n        <b-button size=\"sm\" variant=\"info\" @click=\"viewSubscriber(data.item)\">\r\n          View\r\n        </b-button>\r\n        <b-button size=\"sm\" variant=\"warning\" @click=\"openEditSubscriberModal(data.item)\">\r\n          Edit\r\n        </b-button>\r\n        <b-button size=\"sm\" variant=\"danger\" @click=\"deleteSubscriber(data.item._id)\">\r\n          Delete\r\n        </b-button>\r\n      </template>\r\n    </b-table>\r\n\r\n    <AddEditSubscriberModal\r\n      v-if=\"showModal\"\r\n      :isEdit=\"isEdit\"\r\n      :subscriber=\"selectedSubscriber\"\r\n      @save=\"fetchSubscribers\"\r\n      @close=\"closeModal\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport AddEditSubscriberModal from './AddEditSubscriberModal.vue';\r\nimport magazineSubscriberService from '@/services/magazineSubscriberService';\r\n\r\nexport default {\r\n  components: {\r\n    AddEditSubscriberModal,\r\n  },\r\n  data() {\r\n    return {\r\n      showModal: false,\r\n      isEdit: false,\r\n      selectedSubscriber: {},\r\n      subscribers: [],\r\n      fields: [\r\n        { key: 'name', label: 'Name' },\r\n        { key: 'registration_number', label: 'Registration Number' },\r\n        { key: 'email', label: 'Email' },\r\n        { key: 'phone', label: 'Phone' },\r\n        { key: 'hasActiveSubscriptions', label: 'Active Subscriptions' },\r\n        { key: 'actions', label: 'Actions', class: 'text-center' },\r\n      ],\r\n    };\r\n  },\r\n  methods: {\r\n    fetchSubscribers() {\r\n      magazineSubscriberService.getMagazineSubscribers().then((response) => {\r\n        this.subscribers = response.data;\r\n      });\r\n    },\r\n    openAddSubscriberModal() {\r\n      this.selectedSubscriber = {};\r\n      this.isEdit = false;\r\n      this.showModal = true;\r\n    },\r\n    closeModal() {\r\n      this.showModal = false;\r\n    },\r\n    openEditSubscriberModal(subscriber) {\r\n      this.selectedSubscriber = { ...subscriber };\r\n      this.isEdit = true;\r\n      this.showModal = true;\r\n    },\r\n    deleteSubscriber(id) {\r\n      if (confirm('Are you sure you want to delete this subscriber?')) {\r\n        magazineSubscriberService.deleteMagazineSubscriber(id).then(() => {\r\n          this.fetchSubscribers();\r\n        });\r\n      }\r\n    },\r\n    viewSubscriber(subscriber) {\r\n      // Navigate to subscriber detail page\r\n      this.$router.push({ name: 'SubscriberDetail', params: { id: subscriber._id } });\r\n    },\r\n  },\r\n  mounted() {\r\n    this.fetchSubscribers();\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n/* Add your styles here */\r\n</style>\r\n"],"mappings":";;EACOA,KAAK,EAAC;AAAgB;;;;;;;uBAA3BC,mBAAA,CA+BM,OA/BNC,UA+BM,GA9BJC,YAAA,CAGeC,uBAAA;IALnBC,OAAA,EAAAC,QAAA,CAGM,MAAoD,CAApDH,YAAA,CAAoDI,4BAAA;MAAjCC,IAAI,EAAC;IAAG;MAHjCH,OAAA,EAAAC,QAAA,CAGkC,MAAI,CAHtCG,gBAAA,CAGkC,MAAI,E;MAHtCC,CAAA;QAIMP,YAAA,CAAyDI,4BAAA;MAAtCI,MAAM,EAAN;IAAM;MAJ/BN,OAAA,EAAAC,QAAA,CAIgC,MAAW,CAJ3CG,gBAAA,CAIgC,aAAW,E;MAJ3CC,CAAA;;IAAAA,CAAA;MAOIP,YAAA,CAEWS,mBAAA;IAFDZ,KAAK,EAAC,MAAM;IAACa,OAAO,EAAC,SAAS;IAAEC,OAAK,EAAEC,QAAA,CAAAC;;IAPrDX,OAAA,EAAAC,QAAA,CAO6E,MAEzE,CATJG,gBAAA,CAO6E,kBAEzE,E;IATJC,CAAA;kCAWIP,YAAA,CAYUc,kBAAA;IAZDC,OAAO,EAAP,EAAO;IAACC,KAAK,EAAL,EAAK;IAAEC,KAAK,EAAEC,KAAA,CAAAC,WAAW;IAAGC,MAAM,EAAEF,KAAA,CAAAE,MAAM;IAAEC,UAAU,EAAC;;IAC3D,eAAa,EAAAlB,QAAA,CAGXmB,IAHiB,KAC5BtB,YAAA,CAEWS,mBAAA;MAFDc,IAAI,EAAC,IAAI;MAACb,OAAO,EAAC,MAAM;MAAEC,OAAK,EAAAa,MAAA,IAAEZ,QAAA,CAAAa,cAAc,CAACH,IAAI,CAACI,IAAI;;MAb3ExB,OAAA,EAAAC,QAAA,CAa8E,MAEtE,CAfRG,gBAAA,CAa8E,QAEtE,E;MAfRC,CAAA;sDAgBQP,YAAA,CAEWS,mBAAA;MAFDc,IAAI,EAAC,IAAI;MAACb,OAAO,EAAC,SAAS;MAAEC,OAAK,EAAAa,MAAA,IAAEZ,QAAA,CAAAe,uBAAuB,CAACL,IAAI,CAACI,IAAI;;MAhBvFxB,OAAA,EAAAC,QAAA,CAgB0F,MAElF,CAlBRG,gBAAA,CAgB0F,QAElF,E;MAlBRC,CAAA;sDAmBQP,YAAA,CAEWS,mBAAA;MAFDc,IAAI,EAAC,IAAI;MAACb,OAAO,EAAC,QAAQ;MAAEC,OAAK,EAAAa,MAAA,IAAEZ,QAAA,CAAAgB,gBAAgB,CAACN,IAAI,CAACI,IAAI,CAACG,GAAG;;MAnBnF3B,OAAA,EAAAC,QAAA,CAmBsF,MAE9E,CArBRG,gBAAA,CAmBsF,UAE9E,E;MArBRC,CAAA;;IAAAA,CAAA;0CA0BYW,KAAA,CAAAY,SAAS,I,cADjBC,YAAA,CAMEC,iCAAA;IA/BNC,GAAA;IA2BOC,MAAM,EAAEhB,KAAA,CAAAgB,MAAM;IACdC,UAAU,EAAEjB,KAAA,CAAAkB,kBAAkB;IAC9BC,MAAI,EAAEzB,QAAA,CAAA0B,gBAAgB;IACtBC,OAAK,EAAE3B,QAAA,CAAA4B;4EA9BdC,mBAAA,e","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}