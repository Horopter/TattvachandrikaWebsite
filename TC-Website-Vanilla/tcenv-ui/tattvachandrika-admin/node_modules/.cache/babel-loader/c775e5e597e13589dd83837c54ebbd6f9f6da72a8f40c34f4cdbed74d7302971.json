{"ast":null,"code":"import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_b_button = _resolveComponent(\"b-button\");\n  const _component_b_table = _resolveComponent(\"b-table\");\n  const _component_add_edit_subscriber_modal = _resolveComponent(\"add-edit-subscriber-modal\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createVNode(_component_b_button, {\n    onClick: $options.openAddSubscriberModal\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Add Subscriber\")]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_b_table, {\n    items: $data.subscribers,\n    fields: $data.fields\n  }, {\n    \"cell(actions)\": _withCtx(row => [_createVNode(_component_b_button, {\n      onClick: $event => $options.editSubscriber(row.item)\n    }, {\n      default: _withCtx(() => [_createTextVNode(\"Edit\")]),\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"]), _createVNode(_component_b_button, {\n      onClick: $event => $options.deleteSubscriber(row.item._id)\n    }, {\n      default: _withCtx(() => [_createTextVNode(\"Delete\")]),\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"]), _createVNode(_component_b_button, {\n      onClick: $event => $options.viewSubscriber(row.item)\n    }, {\n      default: _withCtx(() => [_createTextVNode(\"View\")]),\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"items\", \"fields\"]), _createVNode(_component_add_edit_subscriber_modal, {\n    ref: \"addEditSubscriberModal\",\n    showModal: $data.showAddEditModal,\n    subscriber: $data.currentSubscriber,\n    onSave: $options.saveSubscriber,\n    onCancel: $options.cancelEdit\n  }, null, 8 /* PROPS */, [\"showModal\", \"subscriber\", \"onSave\", \"onCancel\"])]);\n}","map":{"version":3,"names":["_createElementBlock","_createVNode","_component_b_button","onClick","$options","openAddSubscriberModal","default","_withCtx","_createTextVNode","_","_component_b_table","items","$data","subscribers","fields","row","$event","editSubscriber","item","deleteSubscriber","_id","viewSubscriber","_component_add_edit_subscriber_modal","ref","showModal","showAddEditModal","subscriber","currentSubscriber","onSave","saveSubscriber","onCancel","cancelEdit"],"sources":["C:\\Users\\santoshdesai\\Tattvachandrika\\tcenv-ui\\tattvachandrika-admin\\src\\components\\MagazineSubscribers.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <b-button @click=\"openAddSubscriberModal\">Add Subscriber</b-button>\r\n\r\n    <b-table :items=\"subscribers\" :fields=\"fields\">\r\n      <template #cell(actions)=\"row\">\r\n        <b-button @click=\"editSubscriber(row.item)\">Edit</b-button>\r\n        <b-button @click=\"deleteSubscriber(row.item._id)\">Delete</b-button>\r\n        <b-button @click=\"viewSubscriber(row.item)\">View</b-button>\r\n      </template>\r\n    </b-table>\r\n\r\n    <add-edit-subscriber-modal\r\n      ref=\"addEditSubscriberModal\"\r\n      :showModal=\"showAddEditModal\"\r\n      :subscriber=\"currentSubscriber\"\r\n      @save=\"saveSubscriber\"\r\n      @cancel=\"cancelEdit\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport AddEditSubscriberModal from './AddEditSubscriberModal.vue';\r\nimport magazineSubscriberService from '@/services/magazineSubscriberService';\r\n\r\nexport default {\r\n  components: {\r\n    AddEditSubscriberModal,\r\n  },\r\n  data() {\r\n    return {\r\n      subscribers: [],\r\n      fields: ['name', 'registration_number', 'actions'],\r\n      showAddEditModal: false,\r\n      currentSubscriber: null,\r\n    };\r\n  },\r\n  methods: {\r\n    fetchSubscribers() {\r\n      magazineSubscriberService.getMagazineSubscribers()\r\n        .then(response => {\r\n          this.subscribers = response.data;\r\n        })\r\n        .catch(error => {\r\n          console.error(error);\r\n        });\r\n    },\r\n    openAddSubscriberModal() {\r\n      this.currentSubscriber = {};\r\n      this.showAddEditModal = true;\r\n    },\r\n    editSubscriber(subscriber) {\r\n      this.currentSubscriber = { ...subscriber };\r\n      this.showAddEditModal = true;\r\n    },\r\n    saveSubscriber(subscriber) {\r\n      if (subscriber._id) {\r\n        magazineSubscriberService.updateMagazineSubscriber(subscriber._id, subscriber)\r\n          .then(() => {\r\n            this.fetchSubscribers();\r\n            this.showAddEditModal = false;\r\n          })\r\n          .catch(error => {\r\n            console.error(error);\r\n          });\r\n      } else {\r\n        magazineSubscriberService.createMagazineSubscriber(subscriber)\r\n          .then(() => {\r\n            this.fetchSubscribers();\r\n            this.showAddEditModal = false;\r\n          })\r\n          .catch(error => {\r\n            console.error(error);\r\n          });\r\n      }\r\n    },\r\n    cancelEdit() {\r\n      this.showAddEditModal = false;\r\n    },\r\n    deleteSubscriber(id) {\r\n      if (confirm('Are you sure you want to delete this subscriber?')) {\r\n        magazineSubscriberService.deleteMagazineSubscriber(id)\r\n          .then(() => {\r\n            this.fetchSubscribers();\r\n          })\r\n          .catch(error => {\r\n            console.error(error);\r\n          });\r\n      }\r\n    },\r\n    viewSubscriber(subscriber) {\r\n      this.$router.push({ name: 'SubscriberDetails', params: { id: subscriber._id } });\r\n    },\r\n  },\r\n  mounted() {\r\n    this.fetchSubscribers();\r\n  },\r\n};\r\n</script>\r\n"],"mappings":";;;;;uBACEA,mBAAA,CAkBM,cAjBJC,YAAA,CAAmEC,mBAAA;IAAxDC,OAAK,EAAEC,QAAA,CAAAC;EAAsB;IAF5CC,OAAA,EAAAC,QAAA,CAE8C,MAAc,CAF5DC,gBAAA,CAE8C,gBAAc,E;IAF5DC,CAAA;kCAIIR,YAAA,CAMUS,kBAAA;IANAC,KAAK,EAAEC,KAAA,CAAAC,WAAW;IAAGC,MAAM,EAAEF,KAAA,CAAAE;;IAC1B,eAAa,EAAAP,QAAA,CACqCQ,GADhC,KAC3Bd,YAAA,CAA2DC,mBAAA;MAAhDC,OAAK,EAAAa,MAAA,IAAEZ,QAAA,CAAAa,cAAc,CAACF,GAAG,CAACG,IAAI;;MANjDZ,OAAA,EAAAC,QAAA,CAMoD,MAAI,CANxDC,gBAAA,CAMoD,MAAI,E;MANxDC,CAAA;sDAOQR,YAAA,CAAmEC,mBAAA;MAAxDC,OAAK,EAAAa,MAAA,IAAEZ,QAAA,CAAAe,gBAAgB,CAACJ,GAAG,CAACG,IAAI,CAACE,GAAG;;MAPvDd,OAAA,EAAAC,QAAA,CAO0D,MAAM,CAPhEC,gBAAA,CAO0D,QAAM,E;MAPhEC,CAAA;sDAQQR,YAAA,CAA2DC,mBAAA;MAAhDC,OAAK,EAAAa,MAAA,IAAEZ,QAAA,CAAAiB,cAAc,CAACN,GAAG,CAACG,IAAI;;MARjDZ,OAAA,EAAAC,QAAA,CAQoD,MAAI,CARxDC,gBAAA,CAQoD,MAAI,E;MARxDC,CAAA;;IAAAA,CAAA;0CAYIR,YAAA,CAMEqB,oCAAA;IALAC,GAAG,EAAC,wBAAwB;IAC3BC,SAAS,EAAEZ,KAAA,CAAAa,gBAAgB;IAC3BC,UAAU,EAAEd,KAAA,CAAAe,iBAAiB;IAC7BC,MAAI,EAAExB,QAAA,CAAAyB,cAAc;IACpBC,QAAM,EAAE1B,QAAA,CAAA2B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}